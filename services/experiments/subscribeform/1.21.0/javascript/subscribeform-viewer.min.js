define.experiment.newComponent("wysiwyg.common.components.subscribeform.viewer.SubscribeForm.SubscribeForm.New",function(a){var b=a;b.utilize(["core.managers.serverfacade.WixRESTClient"]),b.traits(["wysiwyg.viewer.components.traits.ContactFormUtils","wysiwyg.common.components.subscribeform.viewer.common.FormsMethods"]),b.inherits("core.components.base.BaseComp"),b.resources(["W.Config","W.Viewer","W.Commands","W.Utils","W.Resources"]),b.propertiesSchemaType("SubscribeFormProperties"),b.dataTypes(["SubscribeForm"]),b.states({dir:["left","right"],mob:["desktop","mobile"]}),b.statics({langKeys:{en:{SFORM_ERRORS_404:"Service not found 404",SFORM_ERRORS_main:"An error has occurred",SFORM_ERRORS_noOwner:"Owner email address not set",SFORM_ERRORS_timeOut:"Request timeout",SFORM_eMAIL_subject:"New subscriber via your wix site",SFORM_eMAIL_subject_premium:"New subscriber via your site",SFORM_eMAIL_date:"Sent on:",SFORM_eMAIL_details:"Subscriber Details:",SFORM_eMAIL_title:"You have a new subscriber:",SFORM_eMAIL_tnx:"Thank you for using Wix.com!",SFORM_eMAIL_tnx_premium:"Thank you",SFORM_eMAIL_via:"Via: ",SFORM_user_errorMessage:"Please provide a valid email",SFORM_user_validationErrorMessage:"Please fill in all required fields.",SFORM_user_subscribeFormTitle:"Subscribe for Updates",SFORM_user_submitButtonLabel:"Subscribe Now",SFORM_user_successMessage:"Congrats! You’re subscribed",SFORM_FIELDS_firstname:"Name",SFORM_FIELDS_lastname:"Last Name",SFORM_FIELDS_email:"Email",SFORM_FIELDS_phone:"Mobile Number",SFORM_UNSUBSCRIBE:"(Charges may apply. Text *STOP* anytime to unsubscribe.)"},es:{SFORM_ERRORS_404:"El servicio solicitado no fue encontrado 404",SFORM_ERRORS_main:"Ha ocurrido un error",SFORM_ERRORS_noOwner:"Email del propietario no está configurado",SFORM_ERRORS_timeOut:"Por favor espera un momento.",SFORM_eMAIL_subject:"Nuevo suscriptor a través de tu sitio de Wix",SFORM_eMAIL_subject_premium:"Nuevo suscriptor a través de tu sitio",SFORM_eMAIL_date:"Enviado:",SFORM_eMAIL_details:"Detalles del Suscriptor:",SFORM_eMAIL_title:"Tienes un nuevo suscriptor:",SFORM_eMAIL_tnx:"¡Gracias por usar Wix.com!",SFORM_eMAIL_tnx_premium:"Gracias",SFORM_eMAIL_via:"Vía:",SFORM_user_subscribeFormTitle:"Suscríbete para Obtener Actualizaciones",SFORM_user_errorMessage:"Por favor introduce un email válido ",SFORM_user_validationErrorMessage:"Por favor rellena todos los campos obligatorios.",SFORM_user_submitButtonLabel:"Suscríbete Ahora",SFORM_user_successMessage:"¡Felicitaciones! Estás suscrito",SFORM_FIELDS_firstname:"Nombre",SFORM_FIELDS_lastname:"Apellido",SFORM_FIELDS_phone:"Teléfono Móvil",SFORM_FIELDS_email:"Email",SFORM_UNSUBSCRIBE:'(Cargos podrán ser aplicados. Envía un mensaje de texto con la palabra "DETENER" en cualquier momento para desactivar la suscripción.)'},de:{SFORM_ERRORS_404:"Dienst nicht gefunden 404",SFORM_ERRORS_main:"Ein Fehler ist aufgetreten",SFORM_ERRORS_noOwner:"E-Mail-Adresse des Eigentümers nicht festgelegt",SFORM_ERRORS_timeOut:"Anfrage-Timeout",SFORM_eMAIL_subject:"Neuer Abonnent über Ihre Website von Wix",SFORM_eMAIL_subject_premium:"Neuer Abonnent über Ihre Website",SFORM_eMAIL_date:"Gesendet am:",SFORM_eMAIL_details:"Abonnent-Details:",SFORM_eMAIL_title:"Sie haben einen neuen Abonnenten:",SFORM_eMAIL_tnx:"Danke, dass Sie Wix.com verwenden!",SFORM_eMAIL_tnx_premium:"Vielen Dank",SFORM_eMAIL_via:"Über:",SFORM_user_subscribeFormTitle:"Neuigkeiten abonnieren",SFORM_user_errorMessage:"Bitte geben Sie eine gültige E-Mail-Adresse ein",SFORM_user_validationErrorMessage:".Bitte füllen Sie alle erforderlichen Felder aus.",SFORM_user_submitButtonLabel:"Jetzt abonnieren",SFORM_user_successMessage:"Herzlichen Glückwunsch! Sie sind angemeldet.",SFORM_FIELDS_firstname:"Name",SFORM_FIELDS_lastname:"Nachname",SFORM_FIELDS_phone:"Handynummer",SFORM_FIELDS_email:"E-Mail",SFORM_UNSUBSCRIBE:"(Es können Kosten anfallen. Schreiben Sie jederzeit eine SMS mit *STOP*, um sich abzumelden.)"},fr:{SFORM_ERRORS_404:"Service introuvable 404",SFORM_ERRORS_main:"Une erreur est survenue",SFORM_ERRORS_noOwner:"Adresse email du propriétaire non définie",SFORM_ERRORS_timeOut:"La demande a échoué. Veuillez réessayer",SFORM_eMAIL_subject:"Nouvel abonné via votre site Wix",SFORM_eMAIL_subject_premium:"Nouvel abonné via votre site",SFORM_eMAIL_date:"Envoyé le :",SFORM_eMAIL_details:"Informations Abonné :",SFORM_eMAIL_title:"Vous avez un nouvel abonné :",SFORM_eMAIL_tnx:"Merci d'avoir utilisé Wix.com !",SFORM_eMAIL_tnx_premium:"Merci",SFORM_eMAIL_via:"Via :",SFORM_user_subscribeFormTitle:"Abonnez-vous pour recevoir des Mises à Jour",SFORM_user_errorMessage:"Veuillez saisir un email valide",SFORM_user_validationErrorMessage:"Veuillez remplir tous les champs requis.",SFORM_user_submitButtonLabel:"S'Abonner Maintenant",SFORM_user_successMessage:"Félicitations ! Vous êtes abonné",SFORM_FIELDS_firstname:"Prénom",SFORM_FIELDS_lastname:"Nom",SFORM_FIELDS_phone:"Portable",SFORM_FIELDS_email:"Email",SFORM_UNSUBSCRIBE:"(Des frais peuvent s'appliquer. Envoyez *STOP* par texto à tout moment pour vous désabonner.)"},it:{SFORM_ERRORS_404:"Servizio non trovato 404",SFORM_ERRORS_main:"Si è verificato un errore",SFORM_ERRORS_noOwner:"Indirizzo email del proprietario non impostato",SFORM_ERRORS_timeOut:"Richiesta scaduta",SFORM_eMAIL_subject:"Nuovo abbonato dal tuo sito wix",SFORM_eMAIL_subject_premium:"Nuovo abbonato dal tuo sito",SFORM_eMAIL_date:"Inviato il:",SFORM_eMAIL_details:"Dettagli dell'Abbonato:",SFORM_eMAIL_title:"Hai un nuovo abbonato:",SFORM_eMAIL_tnx:"Grazie per aver utilizzato Wix.com!",SFORM_eMAIL_tnx_premium:"Grazie",SFORM_eMAIL_via:"Via:",SFORM_user_subscribeFormTitle:"Iscriviti agli Aggiornamenti",SFORM_user_errorMessage:"Ti preghiamo di fornire un'email valida",SFORM_user_validationErrorMessage:"Ti preghiamo di compilare tutti i campi obbligatori.",SFORM_user_submitButtonLabel:"Iscriviti Ora",SFORM_user_successMessage:"Congratulazioni! Ti sei iscritto",SFORM_FIELDS_firstname:"Nome",SFORM_FIELDS_lastname:"Cognome",SFORM_FIELDS_phone:"Cellulare",SFORM_FIELDS_email:"Email",SFORM_UNSUBSCRIBE:"(Potrebbero essere applicati costi. Invia un sms con *STOP\" in qualsiasi momento per cancellare l'iscrizione.)"},ja:{SFORM_ERRORS_404:"サービスが見つかりません（404）",SFORM_ERRORS_main:"エラーが発生しました",SFORM_ERRORS_noOwner:"オーナーのメールアドレスが設定されていません",SFORM_ERRORS_timeOut:"タイムアウトエラーが発生しました",SFORM_eMAIL_subject:"ホームページからの新規購読者",SFORM_eMAIL_subject_premium:"ホームページからの新規購読者",SFORM_eMAIL_date:"送信日：",SFORM_eMAIL_details:"購読者情報：",SFORM_eMAIL_title:"新規購読者：",SFORM_eMAIL_tnx:"Wix.com をご利用いただき、ありがとうございました！",SFORM_eMAIL_tnx_premium:"ありがとうございました",SFORM_eMAIL_via:"購読申し込み元：",SFORM_user_subscribeFormTitle:"ニュースレター購読",SFORM_user_errorMessage:"有効なメールアドレスを入力してください",SFORM_user_validationErrorMessage:"入力必須項目を全て記入してください。",SFORM_user_submitButtonLabel:"送信",SFORM_user_successMessage:"購読お申し込みありがとうございました",SFORM_FIELDS_firstname:"名前",SFORM_FIELDS_lastname:"名",SFORM_FIELDS_phone:"電話番号",SFORM_FIELDS_email:"携帯電話番号",SFORM_UNSUBSCRIBE:"（通信料が発生することがあります。購読を解除するには、「STOP」とテキストを送信してください。）"},ko:{SFORM_ERRORS_404:"서비스를 찾을 수 없습니다. (404)",SFORM_ERRORS_main:"오류가 오류가 발생했습니다.",SFORM_ERRORS_noOwner:"이메일 주소를 입력하세요.",SFORM_ERRORS_timeOut:"요청 시간이 초과되었습니다.",SFORM_eMAIL_subject:"내 사이트 새 구독자 정보",SFORM_eMAIL_subject_premium:"내 사이트 새로운 구독자",SFORM_eMAIL_date:"전송일:",SFORM_eMAIL_details:"구독자 정보:",SFORM_eMAIL_title:"다음은 새 구독자의 정보입니다:",SFORM_eMAIL_tnx:"Wix.com을 이용해 주셔서 감사합니다!",SFORM_eMAIL_tnx_premium:"감사합니다.",SFORM_eMAIL_via:"사이트:",SFORM_user_subscribeFormTitle:"업데이트 구독하기",SFORM_user_errorMessage:"유효한 이메일을 입력하세요.",SFORM_user_validationErrorMessage:"필수 입력사항을 입력해 주세요.",SFORM_user_submitButtonLabel:"구독하기",SFORM_user_successMessage:"축하합니다! 사이트가 구독됩니다.",SFORM_FIELDS_firstname:"이름",SFORM_FIELDS_lastname:"성",SFORM_FIELDS_phone:"모바일",SFORM_FIELDS_email:"이메일",SFORM_UNSUBSCRIBE:"(요금이 부과될 수 있습니다. *STOP*을 문자메세지로 보내면 구독이 취소됩니다.)"},pl:{SFORM_ERRORS_404:"Usługa nie odnaleziona 404",SFORM_ERRORS_main:"Wystąpił błąd",SFORM_ERRORS_noOwner:"Email właściciela nie skonfigurowany",SFORM_ERRORS_timeOut:"Czynność wygasła",SFORM_eMAIL_subject:"Nowy subskrybent z twojej witryny wix",SFORM_eMAIL_subject_premium:"Nowy subskrybent z twojej witryny wix",SFORM_eMAIL_date:"Wysłana dnia:",SFORM_eMAIL_details:"Dane Subskrybenta:",SFORM_eMAIL_title:"Masz nowego subskrybenta:",SFORM_eMAIL_tnx:"Dziękujemy za korzystanie z Wix.com!",SFORM_eMAIL_tnx_premium:"Dziękujemy",SFORM_eMAIL_via:"Poprzez:",SFORM_user_subscribeFormTitle:"Zasubskrybuj Aktualizacje",SFORM_user_errorMessage:"Podaj poprawny adres email",SFORM_user_validationErrorMessage:"Wypełnij wszystkie wymagane pola.",SFORM_user_submitButtonLabel:"Zasubskrybuj Teraz",SFORM_user_successMessage:"Gratulacje! Zostałeś subskrybentem",SFORM_FIELDS_firstname:"Imię",SFORM_FIELDS_lastname:"Nazwisko",SFORM_FIELDS_phone:"Telefon",SFORM_FIELDS_email:"Email",SFORM_UNSUBSCRIBE:"(Możliwe jest pobranie opłaty za usługę. Wyślij SMS z tekstem *STOP*, aby anulować subrkrypcję.)"},pt:{SFORM_ERRORS_404:"Página não encontrada 404",SFORM_ERRORS_main:"Ocorreu um erro",SFORM_ERRORS_noOwner:"Endereço de email do proprietário não foi definido",SFORM_ERRORS_timeOut:"SFORM_ERRORS_timeOut",SFORM_eMAIL_subject:"Novo assinante através do seu site Wix",SFORM_eMAIL_subject_premium:"Novo assinante através do seu site",SFORM_eMAIL_date:"Enviado em:",SFORM_eMAIL_details:"Detalhes do Assinante:",SFORM_eMAIL_title:"Você tem um novo assinante:",SFORM_eMAIL_tnx:"Obrigado por usar o Wix.com!",SFORM_eMAIL_tnx_premium:"Obrigado",SFORM_user_subscribeFormTitle:"Por favor, insira um email válido",SFORM_user_errorMessage:"Por favor, insira um email válido",SFORM_user_validationErrorMessage:"Por favor, preencha todos os campos obrigatórios.",SFORM_user_submitButtonLabel:"Assine Agora",SFORM_user_successMessage:"Parabéns! Sua assinatura foi concluida",SFORM_eMAIL_via:"Via:",SFORM_FIELDS_firstname:"Nome",SFORM_FIELDS_lastname:"Sobrenome",SFORM_FIELDS_phone:"Número do Celular",SFORM_FIELDS_email:"Email",SFORM_UNSUBSCRIBE:"(Pode haver cobrança de taxas. Escreva *PARE*, a qualquer momento, quando desejar interromper a assinatura.)"},ru:{SFORM_ERRORS_404:"Сервис не найден 404",SFORM_ERRORS_main:"Произошла ошибка",SFORM_ERRORS_noOwner:"Почта владельца не указана",SFORM_ERRORS_timeOut:"Сервер не отвечает",SFORM_eMAIL_subject:"Новый подписчик через ваш сайт Wix",SFORM_eMAIL_subject_premium:"Новый подписчик через ваш сайт Wix",SFORM_eMAIL_date:"Отправлено:",SFORM_eMAIL_details:"Данные подписчика:",SFORM_eMAIL_title:"У вас появился новый подписчик",SFORM_eMAIL_tnx:"Спасибо, что вы используете Wix.com!",SFORM_eMAIL_tnx_premium:"Спасибо!",SFORM_eMAIL_via:"От:",SFORM_user_subscribeFormTitle:"Подписаться на обновления",SFORM_user_errorMessage:"Пожалуйста, укажите верный email",SFORM_user_validationErrorMessage:"Заполните все обязательные поля.",SFORM_user_submitButtonLabel:"Подписаться",SFORM_user_successMessage:"Поздравляем с новой подпиской!",SFORM_FIELDS_firstname:"Имя",SFORM_FIELDS_lastname:"Фамилия",SFORM_FIELDS_phone:"Мобильный тел.",SFORM_FIELDS_email:"Email",SFORM_UNSUBSCRIBE:"(Может взиматься плата. Пришлите сообщение с текстом *STOP* для отмены подписки.)"},tr:{SFORM_ERRORS_404:"Yeni bir aboneniz var:",SFORM_ERRORS_main:"Bir hata oluştu",SFORM_ERRORS_noOwner:"Sahip e-posta adresi belirtilmedi",SFORM_ERRORS_timeOut:"Talep zaman aşımı",SFORM_eMAIL_subject:"Wix siteniz aracılığıyla yeni abone",SFORM_eMAIL_subject_premium:"Siteniz aracılığıyla yeni abone",SFORM_eMAIL_date:"Gönderim Tarihi:",SFORM_eMAIL_details:"Abone Ayrıntıları:",SFORM_eMAIL_title:"Yeni bir aboneniz var:",SFORM_eMAIL_tnx:"Wix.com'u kullandığınız için teşekkür ederiz!",SFORM_eMAIL_tnx_premium:"Teşekkür ederiz",SFORM_eMAIL_via:"Şunun aracılığıyla:",SFORM_user_subscribeFormTitle:"Güncellemeler için Abone Olun",SFORM_user_errorMessage:"Lütfen geçerli bir e-posta gönderin",SFORM_user_validationErrorMessage:"Lütfen tüm gerekli alanları doldurun.",SFORM_user_submitButtonLabel:"Şimdi Abone Ol",SFORM_user_successMessage:"Tebrikler! Abone oldunuz",SFORM_FIELDS_firstname:"Ad",SFORM_FIELDS_lastname:"Soyad",SFORM_FIELDS_phone:"Cep Telefonu",SFORM_FIELDS_email:"E-posta",SFORM_UNSUBSCRIBE:"(Ücrete tabi olabilir. Aboneliği durdurmak için herhangi bir zaman *STOP* yazarak SMS gönderin.)"}},_resizableSides:[Constants.BaseComponent.ResizeSides.LEFT,Constants.BaseComponent.ResizeSides.RIGHT],_useWidthOverMinWidth:!0,_isComponentNew:!0,_isMail:/[\w\.\-]+@[\w\.\-]+\.[\w\.\-]+/,emailFieldName:"toEmailAddress",bbcEmailFieldName:"bccEmailAddress",actionAttached:!1,_dataKeyAllowedToTranslate:{submitButtonLabel:!0,successMessage:!0,errorMessage:!0,validationErrorMessage:!0,nameFieldLabel:!0,emailFieldLabel:!0,phoneFieldLabel:!0,subjectFieldLabel:!0,messageFieldLabel:!0,addressFieldLabel:!0},_dataKeysOveriddenByUser:{},_restClient:null,_activeFields:null,_wasActivated:null,isFormRendered:!1,_selectFilled:!1,_sizeLimits:{minW:235,minH:120,maxW:980,maxH:1024},exceptionFields:["code"]}),b.skinParts({wrapper:{type:"htmlElement"},formTitle:{type:"htmlElement",optional:!0},firstNameFieldLabel:{type:"htmlElement",optional:!0},firstNameField:{type:"htmlElement",optional:!0},lastNameFieldLabel:{type:"htmlElement",optional:!0},lastNameField:{type:"htmlElement",optional:!0},emailFieldLabel:{type:"htmlElement",optional:!0},emailField:{type:"htmlElement"},phoneFieldLabel:{type:"htmlElement",optional:!0},phoneField:{type:"htmlElement"},notifications:{type:"htmlElement"},submit:{type:"htmlElement"}}),b.methods({getMsgTemplate:function(a,b){var c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date,e="",f='<div style="margin: 0 0 5px 0; padding: 0;"><b>{{key}}</b> {{val}}</div>',g='<div style="margin: 0; padding: 0;"><div style="margin: 0 0 5px 0; padding: 0;"><b>{{ttl}}</b></div><div style="margin: 0 0 15px 0; padding: 0;">{{ttl_via}} '+window.location.protocol+"//"+window.location.hostname+window.location.pathname+'</div><div style="margin: 0 0 5px 0; padding: 0;"><b>{{ttl_details}}</b></div><div style="margin: 0 0 25px 0; padding: 0;"><div  style="margin: 0 0 0 20px; padding: 0;">{{fields}}</div></div><div style="margin: 0 0 15px 0; padding: 0;"><b>{{ttl_date}}</b> '+d.getDate()+" "+c[d.getMonth()]+", "+d.getFullYear()+'</div><div style="margin: 0; padding: 0;">{{tnx}}</div></div>';return _.each(a,function(a,b){var c;c=b&&!/^default_/.test(b)?b+" : ":"",e+=f.replace("{{key}}",c).replace("{{val}}",a)}),g.replace("{{fields}}",e).replace("{{ttl}}",b.msg_title).replace("{{ttl_via}}",b.msg_via).replace("{{ttl_details}}",b.msg_details).replace("{{ttl_date}}",b.msg_date).replace("{{tnx}}",b.msg_tnx)},_onRender:function(a){var b,c,d=a.data.invalidations._invalidations;return"firstRender"in d&&this._firstRender(),"skinChange"in d&&this._resetStatic(),"dataChange"in d&&(this._handleKeyTranslations(d.dataChange),this.isFormRendered=!1),this.isSiteReady()?(b=this.resources.W.Config.env.isViewingSecondaryDevice(),c=this.getDataItem().get("textDirection"),this._renderForm(),this.setHeight(this._skinParts.wrapper.clientHeight),this.setState(b?"mobile":"desktop","mob"),this.setState(c,"dir"),void 0):(this.invalidate("siteNotReady"),void 0)},_resetStatic:function(){this.actionAttached=!1,this._wasActivated=null,this._selectFilled=!1,this.isFormRendered=!1},isSiteReady:function(){return this.resources.W.Viewer.isSiteReady()},isRenderNeeded:function(a){return a.isInvalidated([this.INVALIDATIONS.SKIN_CHANGE,this.INVALIDATIONS.DATA_CHANGE,this.INVALIDATIONS.PART_SIZE,this.INVALIDATIONS.DISPLAY,"siteNotReady"])},_setDictionary:function(a,b){var c=this.langKeys[a];this.lingo={err_404:c.SFORM_ERRORS_404,err_main:c.SFORM_ERRORS_main,err_noOwner:c.SFORM_ERRORS_noOwner,err_timeOut:c.SFORM_ERRORS_timeOut,msg_date:c.SFORM_eMAIL_date,msg_details:c.SFORM_eMAIL_details,msg_title:c.SFORM_eMAIL_title,msg_tnx:b?c.SFORM_eMAIL_tnx_premium:c.SFORM_eMAIL_tnx,msg_subj:b?c.SFORM_eMAIL_subject_premium:c.SFORM_eMAIL_subject,msg_via:c.SFORM_eMAIL_via,sending:"…",firstNameFieldLabel:c.SFORM_FIELDS_firstname,lastNameFieldLabel:c.SFORM_FIELDS_lastname,phoneFieldLabel:c.SFORM_FIELDS_phone,emailFieldLabel:c.SFORM_FIELDS_email,errorMessage:c.SFORM_user_errorMessage,submitButtonLabel:c.SFORM_user_submitButtonLabel,successMessage:c.SFORM_user_successMessage,validationErrorMessage:c.SFORM_user_validationErrorMessage,unSubscribeMessage:c.SFORM_UNSUBSCRIBE}},_preventKeyTranslation:function(a){this._dataKeysOveriddenByUser[a]=!0},_canKeyBeTranslated:function(a){return!!this._dataKeyAllowedToTranslate[a]},_isKeyOveriddenByUser:function(a){return!!this._dataKeysOveriddenByUser[a]},_handleKeyTranslations:function(a){var b="",c=this;a.forEach(function(a){b=a.field,c._canKeyBeTranslated(b)&&c._preventKeyTranslation(b)})},_firstRender:function(){var a=this.resources.W.Config;this._isComponentNew=this._isPreset(),this._restClient=new this.imports.WixRESTClient,this._setDictionary(a.getLanguage(),a.isPremiumUser()),this.resources.W.Config.env.$isPublicViewerFrame||(this._decryptEmails(this.emailFieldName,this.bbcEmailFieldName,this._restClient),this._handleMissingEmail(this.emailFieldName),this._translatePlaceholdersIfComponentIsNew())},_renderForm:function(){this.isFormRendered||(this._skinParts.formTitle&&this._skinParts.formTitle.set("text",this._data.get("subscribeFormTitle")),this._activeFields=this._getNecessaryFields(),this._wasActivated=this._wasActivated||{},this._skinParts.submit&&(this._skinParts.submit.set("text",this._data.get("submitButtonLabel")),this._showSkinPart(this._skinParts.submit),this.actionAttached||(this._skinParts.submit.addEvent("click",this._onSubmit.bind(this)),this.addEventToSelect(),this.actionAttached=!this.actionAttached)),this._processInput(),this._fillPhoneCodesDropdown(),this._translateNotation(),this.isFormRendered=!0)},_processInput:function(){var a=this;_.each(Object.keys(this.getComponentProperties()._schema),function(b){var c;-1!==b.indexOf("hidden")&&(c=b.replace("hidden","").replace(/[A-Z]/,function(a){return a.toLowerCase()}),a._activeFields[c]?(a._showSkinPart(a._skinParts[c]),a._skin.hidePlaceholders&&a._skinParts[c+"Label"]&&(a._skinParts[c+"Label"].innerHTML="",a._skinParts[c+"Label"].appendChild(a._escapeHtml(a._data.get(c+"Label")))),a._setActions(a._activeFields[c].fields,c+"Label",a._wasActivated[c]),a._wasActivated[c]||(a._wasActivated[c]=!0)):a._hideSkinPart(a._skinParts[c]))})},_showSkinPart:function(a){(a.getParent(".row")||a).removeClass("hidden")},_hideSkinPart:function(a){(a.getParent(".row")||a).addClass("hidden")},_setActions:function(a,b,c){var d=this;_.each(a,function(a){c||$(a).addEvent("focus",function(){$(this).removeClass("error")}),d._skin.hidePlaceholders||"true"===a.getAttribute("data-skip-placeholder")||(a.setAttribute("placeholder",d._escapeHtml(d._data.get(b)).nodeValue),window.Modernizr.input.placeholder||(c||d.setPHPoly(a),a.value=d._escapeHtml(d._data.get(b)).nodeValue))})},_getNecessaryFields:function(){var a={},b=this;return _.each(this.getComponentProperties()._data,function(c,d){if(-1!==d.indexOf("hidden")&&c){var e=d.replace("hidden",""),f=b.getComponentProperty("required"+e),g=e.replace(/[A-Z]/,function(a){return a.toLowerCase()});a[g]={isRequire:f,fields:b._getInputsFromSkinPart(b._skinParts[g])}}}),a},_getInputsFromSkinPart:function(a){if(this.isInput(a))return[a];if(a.children&&a.children.length){for(var b=a.getElements("select, input, texarea"),c=[],d=0,e=b.length;e>d;d++)!this.exceptFromCollection(b[d].getAttribute("name"))&&c.push(b[d]);return c}},_actionWithActiveFields:function(a,b){var c=this;_.each(this._activeFields,function(d){_.each(d.fields,function(d){d.nodeType&&1===d.nodeType&&a.call(b||c,d)})},this)},isInput:function(a){return/(textarea|input|select)/.test(a.nodeName.toLowerCase())},_onSubmit:function(){var a,b,c,d=this.getDataItem(),e=d.get("toEmailAddress"),f=d.get("bccEmailAddress");return e?(this._isValid()&&(a=this.preFormatFields(),b=this.getMsgTemplate(a.forSend,this.lingo),c=this._formatData(a.forReport,b,e,f),this._showMessage(this.lingo.sending),this.resources.W.Config.env.$isPublicViewerFrame&&this._reportActivity(a.forReport).then(function(){this._sendMail(this.getMailServerUrl(),c),this._cleanForm()}.bind(this)).fail(function(){this._showMessage(this.lingo.err_main,!0)}.bind(this))),void 0):(this._showMessage(this.lingo.err_noOwner,!0),void 0)},_formatData:function(a,b,c,d){var e=function(b){var c=a[b];return c?c:"n/a"};return{to:[{address:c||"n/a",personal:c||"n/a"}],bcc:d?[{address:d||"n/a",personal:d||"n/a"}]:[],cc:[],from:{address:e("email"),personal:["n/a"!==e("first")?e("first"):"","n/a"!==e("last")?e("last"):""].join(" ")},subject:this.lingo.msg_subj,metaSiteId:rendererModel.metaSiteId||"dc853130-4fb2-464f-878d-3b6667dc4f97",htmlMessage:b,plainTextMessage:e("message")}},_reportActivity:function(a){var b=Q.defer();return this.resources.W.Commands.executeCommand("WViewerCommands.Activity.Report",{name:"SubscribeForm",fields:a,callbacks:{onSuccess:function(){b.resolve()},onError:function(){b.reject()}}}),b.promise},_sendMail:function(a,b){this._restClient.post(a,b,{onSuccess:function(){this._showMessage(this._data.get("successMessage"))}.bind(this),onError:function(){this._showMessage(this.lingo.err_main,1)}.bind(this)})},_cleanForm:function(){var a=!window.Modernizr.input.placeholder,b=this;this._actionWithActiveFields(function(c){$(c).removeClass("error"),b.exceptFromCollection(c.getAttribute("name"))||"select"===c.tagName.toLowerCase()||(c.value=""),a&&c.focus()},this)},exceptFromCollection:function(a){return!!~this.exceptionFields.indexOf(a)},preFormatFields:function(){var a=this,b={},c={};return _.each(Object.keys(this._activeFields),function(d){var e,f="",g=0;_.each(a._activeFields[d].fields,function(b){!b.value||a.exceptFromCollection(b.getAttribute("name"))||$(b).hasClass("isPlaceholder")||(f+=a._transfortToHtmlEntites(a._escapeHtml(b.value).nodeValue),g++),e=b.name?a._transfortToHtmlEntites(a._escapeHtml(b.name).nodeValue):""}),a._activeFields[d].fields.length===g&&(b[a._data.get(d+"Label")]=f,e&&(c[e]=f))}),{forSend:b,forReport:c}},_showMessage:function(a,b){this._skinParts.notifications.set("text",a),this._skinParts.notifications.className=b?"error":"success"},_isValid:function(){var a=!0,b=[];return this._isMail.test(this._skinParts.emailField.value.replace(/^\s+|\s+$/g,""))?($(this._skinParts.emailField).removeClass("error"),_.each(this._activeFields,function(a){if(a.isRequire)for(var c=0,d=a.fields.length;d>c;c++)a.fields[c].nodeType&&1===a.fields[c].nodeType&&(!a.fields[c].value||!a.fields[c].value.replace(/^\s+|\s+$/g,"")||$(a.fields[c]).hasClass("isPlaceholder"))&&b.push(a.fields[c])}),_.isEmpty(b)?_.each(this._skinParts,function(a){$(a).removeClass("error")}):(a=!1,_.each(b,function(a){$(a).addClass("error")}),this._showMessage(this._data.get("validationErrorMessage"),1)),a):($(this._skinParts.emailField).addClass("error"),this._showMessage(this._data.get("errorMessage"),1),!a)},_translatePlaceholdersIfComponentIsNew:function(){this._isComponentNew&&this._translateUserMsg()},_translateUserMsg:function(){_.each({subscribeFormTitle:"Subscribe for Updates",submitButtonLabel:"Subscribe",successMessage:"Your details were sent successfully!",errorMessage:"Please provide a valid email",validationErrorMessage:"Please fill in all required fields.",firstNameFieldLabel:"First Name",lastNameFieldLabel:"Last Name",emailFieldLabel:"Email",phoneFieldLabel:"Phone"},function(a,b){this._translateIfAllowed(this.getDataItem(),b,a)},this)},_translateIfAllowed:function(a,b,c){this._canKeyBeTranslated(b)&&!this._isKeyOveriddenByUser(b)&&a.set(b,this.lingo[b]||c)},_translateNotation:function(){this._skinParts.wrapper.getElement("em").set("text",this.lingo.unSubscribeMessage)},_isPreset:function(){return!!this.getDataItem().getMeta("isPreset")},_fillPhoneCodesDropdown:function(){if(this.getComponentProperty("hiddenPhoneField")&&!this._selectFilled){var a=this._skinParts.phoneField.getElementsByTagName("select")[0],b=this.getUserCountryCode();_.each(this.getCountryCodes(),function(c,d){if(c.phoneCode&&""!==c.phoneCode){var e=document.createElement("option");e.innerHTML=c.countryName+" "+c.phoneCode,e.setAttribute("value",c.phoneCode),d.toLowerCase()===b.toLowerCase()&&(e.setAttribute("selected","selected"),a.parentNode.getElement(".selected").set("value",c.phoneCode)),a.appendChild(e)}}),this._selectFilled=!0}},addEventToSelect:function(){if(!this.actionAttached){var a=this._skinParts.phoneField.getElement("select"),b=this._skinParts.phoneField.getElement('[name="phone"]');a&&a.addEvent("change",function(){this.parentNode.getElement(".selected").set("value",this.value)}),b&&b.addEvent("keyup",this._validateNumbers),this._skinParts.firstNameField&&this._skinParts.firstNameField.addEvent("keyup",this._validateLength),this._skinParts.lastNameField&&this._skinParts.lastNameField.addEvent("keyup",this._validateLength)}},_validateLength:function(){this.value.length>100&&(this.value=this.value.substring(0,100))},_validateNumbers:function(){this.value=this.value.replace(/[^0-9]/g,""),this.value.length>25&&(this.value=this.value.substring(0,25))},getCountryCodes:function(){return Constants.COUNTRY_LANGUAGES.countries},getUserCountryCode:function(){return window.rendererModel&&window.rendererModel.geo}})}),define.experiment.newDataSchema("SubscribeForm.SubscribeForm.New",function(){return{toEmailAddress:{type:"string","default":""},bccEmailAddress:{type:"string","default":""},firstNameFieldLabel:{type:"string","default":"First Name"},lastNameFieldLabel:{type:"string","default":"Last Name"},emailFieldLabel:{type:"string","default":"Email"},phoneFieldLabel:{type:"string","default":"Mobile number"},subscribeFormTitle:{type:"string","default":"Subscribe for Updates"},textDirection:{type:"string","default":"left","enum":["left","right"]},submitButtonLabel:{type:"string","default":"Subscribe Now"},successMessage:{type:"string","default":"Congrats! You’re subscribed"},errorMessage:{type:"string","default":"Forgot your email? Try again."},validationErrorMessage:{type:"string","default":"To subscribe please fill in all the required info"}}}),define.experiment.newDataSchema("SubscribeFormProperties.SubscribeForm.New",function(){return{hiddenFirstNameField:{type:"boolean","default":!1},hiddenLastNameField:{type:"boolean","default":!1},hiddenEmailField:{type:"boolean","default":!0},hiddenPhoneField:{type:"boolean","default":!1},requiredFirstNameField:{type:"boolean","default":!1},requiredLastNameField:{type:"boolean","default":!1},requiredEmailField:{type:"boolean","default":!0},requiredPhoneField:{type:"boolean","default":!1},useCookie:{type:"boolean","default":!0}}}),define.experiment.newClass("wysiwyg.common.components.subscribeform.viewer.common.FormsMethods.SubscribeForm.New",function(a){var b=a;b.resources(["W.Config","W.Viewer","W.Commands","W.Utils","W.Resources"]),b.methods({_handleMissingEmail:function(a){var b,c=this.getDataItem(),d=c.get(a),e=function(a,b){return a.indexOf(b)===a.length-b.length},f=function(a){return a&&e(a,"@wix.com")};d||(b=this.resources.W.Config.getUserEmail(),f(b)||(c.set(a,b),this.setComponentProperty("useCookie",!0)))},_decryptEmails:function(){var a=this._getServiceBaseUrl(),b=W.Config.getSiteId();a=a.replace("{{siteId}}",b),_.forEach(arguments,function(b){var c=this._data.get(b);c&&!this._isDecryptedEmail(c)&&this._doDecryptRequest(b,c,a)},this)},_doDecryptRequest:function(a,b,c,d){if(d&&"object"==typeof d){var e=c.replace("{{mail}}",b),f={onSuccess:this._getSuccessCallback(a),onError:this._getErrorCallback(a)};d.get(e,{},f)}},_getSuccessCallback:function(a){return function(b){b.email?this._data.set(a,b.email):this._sendError(a,"Server returned success but no email field in response")}.bind(this)},_getErrorCallback:function(a){return function(b){this._data.set(a,""),this._sendError(a,b)}.bind(this)},_getServiceBaseUrl:function(){return[window.location.protocol,"//",window.location.host,"/html/email/decrypt/{{mail}}/{{siteId}}"].join("")},_isDecryptedEmail:function(a){return a.match(/^(([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+|\s*)$/)?!0:!1},_sendError:function(a,b){var c={dataFieldName:a,originalMail:this._data.get(a),errorMsg:b};LOG.reportError(wixErrors.CONTACT_FORM_EMAIL_DECRYPT_FAILURE,"wysiwyg.viewer.components.ContactForm","_sendError",JSON.stringify(c))},_transfortToHtmlEntites:function(a){return a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},_escapeHtml:function(a){return document.createTextNode(a)}})}),define.skin("wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormPlaceholderSkin",function(a){var b=a;b.inherits("core.managers.skin.BaseSkin2"),b.statics({hidePlaceholders:!1}),b.iconParams({description:"Basic Subscribe Form",iconUrl:"/images/wysiwyg/skinIcons/forms/formonecol.png",hidden:!1,index:0}),b.skinParams([{id:"bg1",type:Constants.SkinParamTypes.BG_COLOR,defaultTheme:"color_11",lang:"fieldBg"},{id:"txt1",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15",lang:"fieldTxt"},{id:"bg2",type:Constants.SkinParamTypes.BG_COLOR,defaultTheme:"color_18",lang:"buttonBg"},{id:"txt2",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15",lang:"buttonTxt"},{id:"titleColor",type:Constants.SkinParamTypes.COLOR,defaultTheme:"color_15",enableEdit:!0,lang:"titleTxt"},{id:"labelTxt",type:Constants.SkinParamTypes.COLOR,defaultTheme:"color_12",enableEdit:!0,lang:"labelTxt"},{id:"txtError",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(139,0,0,1)",enableEdit:!0},{id:"txtSuccess",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(186,218,85,1)",enableEdit:!0},{id:"brd",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_12"},{id:"brw",type:Constants.SkinParamTypes.SIZE,defaultValue:"1px"},{id:"tfnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_6",lang:"titleFont"},{id:"fnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"fieldFont"},{id:"fnt2",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"buttonFont"},{id:"efnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"notificationFont"},{id:"rd",type:Constants.SkinParamTypes.BORDER_RADIUS,defaultValue:"0px"},{id:"shd",type:Constants.SkinParamTypes.BOX_SHADOW,defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6);",styleDefaults:{boxShadowToggleOn:"false"}},{id:"box",type:Constants.SkinParamTypes.OTHER,defaultValue:"-moz-box-sizing:border-box; -webkit-box-sizing:border-box; box-sizing:border-box;"}]),b.html('<div skinpart="wrapper"><div skinpart="formTitle"></div><label class="cell" skinpart="firstNameFieldLabel"></label><div class="row hidden"><input skinpart="firstNameField" type="text" name="first"/></div><label skinpart="lastNameFieldLabel" class="hidden"></label><div class="row hidden"><input skinpart="lastNameField" type="text" name="last"/></div><label skinpart="emailFieldLabel" class="hidden"></label><div class="row hidden"><input skinpart="emailField" type="email" name="email" /></div><label skinpart="phoneFieldLabel" class="hidden"></label><div class="row hidden"><div skinpart="phoneField"><span class="drop-list"><input type="text" class="selected" name="code" data-skip-placeholder="true" disable="disable"/><span class="after">▼</span><select data-skip-placeholder="true"></select></span><div class="forPhone"><input type="phone" name="phone"/></div><em>(note: SMS rate may apply; Send "STOP" to unsubscribe)</em></div></div><div class="row button hidden"><span skinpart="notifications"></span><button skinpart="submit">Subscribe</button></div></div>'),b.css(["%wrapper%                                                              { width: 100%; position: absolute}","%wrapper% %formTitle%                                                  { [tfnt] margin-bottom: 4px; color: [titleColor]; }","%wrapper% label                                                        { display: none; }","%wrapper% %phoneField%                                                 { position: relative; }","%wrapper% .drop-list                                                   { display: inline-block; width: 86px; margin: 2px 0 5px 0px; [fnt]; position: relative; padding: 0; vertical-align: top; [rd][shd][bg1]; overflow: hidden; white-space: nowrap;}","%wrapper% .drop-list .selected                                         { display: block; [box] color:[txt1]; [fnt] padding: 5px 1em 5px 5px; overflow: hidden; width: 100%; border:[brw] solid [brd]; [rd]; box-shadow: none; margin: 0}","%wrapper% .drop-list .after                                            { position: absolute; color:[txt1]; right: [brw]; padding-right:5px; font-family: Arial; font-size: 0.6em; [rd]; top: 50%; margin-top: -1em}","%wrapper% .drop-list select                                            { position: absolute; width: 100%; height: 100%; top: 0; background-image: none; border: 0px; opacity: 0; filter: alpha(opacity=0); }","%wrapper% %phoneField% .forPhone                                       { position: absolute; display: block; left: 95px; right: 0px; top: 0;}","%wrapper% em                                                           { display: block; color: [labelTxt]}","%wrapper% div.button                                                   { text-align: right; vertical-align: middle;}","%wrapper% div.button button                                            { [rd][shd][bg2][fnt2] color:[txt2]; padding:5px 10px; border:none; cursor:pointer;  white-space: nowrap; display:inline-block; vertical-align:middle; margin:2px 0 0 0}","input                                                                  { [box] color:[txt1]; [rd][shd][bg1][fnt]; border:[brw] solid [brd]; padding: 5px; margin: 2px 0 7px 0; width: 100%;}","%wrapper% div.button span                                              { vertical-align: middle; display: inline-block; padding: 0 10px; [efnt];}","%wrapper% div.button span.success                                      { color: [txtSuccess];}","%wrapper% div.button span.error                                        { color: [txtError];}","input.error, textarea.error                                            { color: [txtError]; [fnt] border:1px solid [txtError]; }"," input:-moz-placeholder, textarea:-moz-placeholder                     { color:[labelTxt];}"," input.isPlaceholder, textarea.isPlaceholder                           { color:[labelTxt];}"," input::-moz-placeholder, textarea::-moz-placeholder                   { color:[labelTxt];}"," input:-ms-input-placeholder, textarea:-ms-input-placeholder           { color:[labelTxt];}"," input::-webkit-input-placeholder, textarea::-webkit-input-placeholder { color:[labelTxt];}","[state~=right]                                                         { direction:rtl; text-align: right; }","[state~=left]                                                          { direction:ltr; text-align: left; }","[state~=right] %wrapper% div.button                                    { text-align: left; }","[state~=right] %phoneField%                                            { direction:ltr; text-align: left; }","[state~=right] %phoneField% em                                         { text-align: right; }","[state~=right] %phoneField% .forPhone input                            { direction:ltr; text-align: right; }","[state~=right] .drop-list .selected                                    { direction:ltr; text-align: right; }","[state~=right] .drop-list                                              { direction:ltr; text-align: left;}",'[state~=right][state~="mobile"] .drop-list .selected { padding-right: 20px; }','[state~="mobile"] input                                                { font-size: 14px; padding: 0 5px; margin:0 0 5px 0; height: 45px; line-height: normal; -webkit-appearance: none }','[state~="mobile"] .drop-list                                           { height: 45px; margin-top: 0; line-height: 45px; width: 90px; }','[state~="mobile"] .drop-list .selected                                 { height: 45px; line-height: 35px; font-size: 14px; }','[state~="mobile"] .drop-list .after                                    { top: 0; bottom: 0; right: [brw]; line-height: 45px; font-size: 12px; margin: 0;}','[state~="mobile"] .drop-list + input                                   { display: inline-block;}','[state~="mobile"] select                                               { font-size: 14px; height: 45px; line-height: 45px; }','[state~="mobile"] em                                                   { font-size: 10px; margin-top: 10px}','[state~="mobile"] div.button span                                      { display: block; text-align: center; padding: 0; width:100% }','[state~="mobile"] div.button button                                    { margin-top: 10px; }'])
}),define.skin("wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormSkin",function(a){var b=a;b.inherits("core.managers.skin.BaseSkin2"),b.statics({hidePlaceholders:!0}),b.iconParams({description:"Vertical Subscribe Form with labels on the left",iconUrl:"/images/wysiwyg/skinIcons/forms/formonecollabelleft.png",hidden:!1,index:1}),b.skinParams([{id:"bg1",type:Constants.SkinParamTypes.BG_COLOR,defaultTheme:"color_11",lang:"fieldBg"},{id:"txt1",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15",lang:"fieldTxt"},{id:"bg2",type:Constants.SkinParamTypes.BG_COLOR,defaultTheme:"color_18",lang:"buttonBg"},{id:"txt2",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15",lang:"buttonTxt"},{id:"titleColor",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(169,169,169,1)",enableEdit:!0,lang:"titleTxt"},{id:"labelTxt",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(169,169,169,1)",enableEdit:!0,lang:"labelTxt"},{id:"txtError",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(139,0,0,1)",enableEdit:!0},{id:"txtSuccess",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(186,218,85,1)",enableEdit:!0},{id:"brd",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15"},{id:"brw",type:Constants.SkinParamTypes.SIZE,defaultValue:"0px"},{id:"tfnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_5",lang:"titleFont"},{id:"fnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"fieldFont"},{id:"fnt1",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"labelFont"},{id:"fnt2",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"buttonFont"},{id:"efnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"notificationFont"},{id:"rd",type:Constants.SkinParamTypes.BORDER_RADIUS,defaultValue:"5px"},{id:"shd",type:Constants.SkinParamTypes.BOX_SHADOW,defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6);"},{id:"box",type:Constants.SkinParamTypes.OTHER,defaultValue:"-moz-box-sizing:border-box; -webkit-box-sizing:border-box; box-sizing:border-box;"}]),b.html('<div skinpart="wrapper"><div skinpart="formTitle"></div><ul><li class="row hidden"><label class="cell" skinpart="firstNameFieldLabel"></label><div class="cell"><input skinpart="firstNameField" type="text" name="first"/></div></li><li class="row hidden"><label skinpart="lastNameFieldLabel" class="cell"></label><div class="cell"><input skinpart="lastNameField" type="text" name="last"/></div></li><li class="row hidden"><label skinpart="emailFieldLabel" class="cell"></label><div class="cell"><input skinpart="emailField" type="phone" name="email"/></div></li><li class="row hidden"><label class="cell" skinpart="phoneFieldLabel"></label><div class="cell" skinpart="phoneField"><div class="holder"><span class="drop-list"><input type="text" class="selected" name="code"/><span class="after">▼</span><select></select></span><div class="forPhone"><input type="phone" name="phone"/></div><em>(note: SMS rate may apply; Send "STOP" to unsubscribe)</em></div></div> </li><li class="row hidden"><label class="cell"></label><div class="cell button"><span skinpart="notifications"></span><button skinpart="submit">Subscribe</button></div></li></ul></div>'),b.css(["%wrapper%                                                    { width: 100%; position: relative; }","%wrapper% ul                                                 { display: table; width: 100% }","%wrapper% ul li.row                                          { min-width: 100%; display: table-row;}","%wrapper% ul li.row .cell                                    { vertical-align: top; display: table-cell; position: relative;}","%wrapper% ul li.row label.cell                               { [fnt1] color: [labelTxt]; border: none; vertical-align: top; text-align: right; width: 110px; padding-top: 5px;}","%wrapper% %formTitle%                                        { [tfnt] margin-bottom: 4px; color: [titleColor]; }","%wrapper% ul li.row .holder { position: relative }","%wrapper% ul li.row div.cell .drop-list                      { display: inline-block; width: 86px; margin: 2px 0 5px 0px; [fnt]; position: relative; padding: 0; vertical-align: top; [rd][shd][bg1]; overflow: hidden; white-space: nowrap;}","%wrapper% ul li.row div.cell .drop-list .selected            { display: block; [box] color:[txt1]; [fnt] padding: 5px 1em 5px 5px; overflow: hidden; width: 100%; border:[brw] solid [brd]; [rd]; box-shadow: none; margin: 0}","%wrapper% ul li.row div.cell .drop-list .after               { position: absolute; color:[txt1]; right: [brw]; padding-right:5px; font-family: Arial; font-size: 0.6em; [rd]; top: 50%; margin-top: -1em}","%wrapper% ul li.row div.cell .drop-list select               { position: absolute; width: 100%; height: 100%; top: 0; background-image: none; border: 0px; opacity: 0; filter: alpha(opacity=0); }","%wrapper% ul li.row %phoneField% .forPhone                   { position: absolute; display: block; left: 95px; right: 0px; top: 0;}","%wrapper% ul li.row div.cell em                              { display: block; color: [labelTxt]}","%wrapper% ul li.row div.cell.button                          { text-align: right; vertical-align: middle; }","button                                                       { [rd][shd][bg2][fnt2] color:[txt2]; padding:5px 10px; border:none; cursor:pointer; display:inline-block; vertical-align: middle; white-space: nowrap; margin:2px 0 0 0}","input                                                        { [box] color:[txt1]; [rd][shd][bg1][fnt] border:[brw] solid [brd]; padding:5px; width: 100%; margin: 2px 0px 5px;}","%wrapper% ul li.row div.cell.button span                     { vertical-align: middle; display: inline-block; padding: 0; [efnt]; width: 100%;}","%wrapper% ul li.row div.cell span.success                    { color: [txtSuccess];}","%wrapper% ul li.row div.cell span.error                      { color: [txtError];}","input.error, textarea.error                                  { color: [txtError]; [fnt] border:1px solid [txtError]; }","[state~=right]                                               { direction:rtl; text-align: right; }","[state~=left]                                                { direction:ltr; text-align: left; }","[state~=right] %wrapper% ul li.row div.cell.button           { text-align: left; }","[state~=right] %wrapper% ul li.row div.cell.button span      { text-align: right; }","[state~=right] %wrapper% ul li.row label.cell                { text-align: left; padding-left: 15px; }","[state~=right] %phoneField%                                            { direction:ltr; text-align: left; }","[state~=right] %phoneField% em                                         { text-align: right; }","[state~=right] %phoneField% .forPhone input                            { direction:ltr; text-align: right; }","[state~=right] .drop-list .selected                                    { direction:ltr; text-align: right;}","[state~=right] .drop-list                                              { direction:ltr; text-align: left;}",'[state~=right][state~="mobile"] ul li.row div.cell .drop-list .selected { padding-right: 20px; }',"[state~=mobile][state~=right] %wrapper% ul li.row label.cell { text-align: right; padding: 5px 0 5px 0; }","[state~=left] %wrapper% ul li.row label.cell                 { text-align: right; padding-right: 15px}","[state~=left] %wrapper% ul li.row div.cell.button span       { text-align: left; }","[state~=mobile][state~=left] %wrapper% ul li.row label.cell  { text-align: left;  padding: 5px 0 5px 0; }","[state~=right] %wrapper% ul li.row div.cell select + input   { margin-right: 23% }",'[state~="mobile"] %wrapper% ul                               { display: block; width:100%; font-size: 14px; padding: 0; margin:3px 0; }','[state~="mobile"] %wrapper% ul li.row                        { display: block; width:100%; }','[state~="mobile"] %wrapper% ul li.row label.cell             { display: block; width:100%; font-size: 14px; padding: 0; margin:3px 0; }','[state~="mobile"] ul li.row div.cell                         { display: block; width:100%; font-size: 14px; padding: 0; margin: 3px 0; }','[state~="mobile"] ul li.row div.cell input                   { width: 100%; font-size: 14px; padding: 0 5px; margin: 0; height: 45px; line-height: 45px; -webkit-appearance:none }','[state~="mobile"] ul li.row div.cell .drop-list              { height: 45px; margin-top: 0; line-height: 45px; width: 86px; position: relative; }','[state~="mobile"] ul li.row div.cell .drop-list .selected    { height: 45px; line-height: 35px; font-size: 14px;}','[state~="mobile"] ul li.row div.cell .drop-list .after       { top: 0; bottom: 0; right: [brw]; line-height: 45px; font-size: 12px; margin: 0}','[state~="mobile"] ul li.row div.cell span + input            { display: inline-block;}','[state~="mobile"] ul li.row div.cell select                  { font-size: 14px; height: 45px; line-height: 45px; }','[state~="mobile"] ul li.row div.cell em                      { font-size: 10px; margin-top: 10px}','[state~="mobile"] ul li.row div.cell.button span             { display: block; text-align: center; padding: 0; width:100% }','[state~="mobile"] ul li.row div.cell.button button           { margin-top: 10px; }'])}),define.skin("wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormSkinTopLabels",function(a){var b=a;b.inherits("core.managers.skin.BaseSkin2"),b.statics({hidePlaceholders:!0}),b.iconParams({description:"Vertical Subscribe Form with labels on the top",iconUrl:"/images/wysiwyg/skinIcons/forms/formonecollabel.png",hidden:!1,index:2}),b.skinParams([{id:"bg1",type:Constants.SkinParamTypes.BG_COLOR,defaultTheme:"color_11",lang:"fieldBg"},{id:"txt1",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15",lang:"fieldTxt"},{id:"bg2",type:Constants.SkinParamTypes.BG_COLOR,defaultTheme:"color_18",lang:"buttonBg"},{id:"txt2",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15",lang:"buttonTxt"},{id:"titleColor",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(169,169,169,1)",enableEdit:!0,lang:"titleTxt"},{id:"labelTxt",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(169,169,169,1)",enableEdit:!0,lang:"labelTxt"},{id:"txtError",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(139,0,0,1)",enableEdit:!0},{id:"txtSuccess",type:Constants.SkinParamTypes.COLOR,defaultValue:"rgba(186,218,85,1)",enableEdit:!0},{id:"brd",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_15"},{id:"brw",type:Constants.SkinParamTypes.SIZE,defaultValue:"0px"},{id:"tfnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_5",lang:"titleFont"},{id:"fnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"fieldFont"},{id:"fnt1",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"labelFont"},{id:"fnt2",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"buttonFont"},{id:"efnt",type:Constants.SkinParamTypes.FONT,defaultTheme:"font_7",lang:"notificationFont"},{id:"rd",type:Constants.SkinParamTypes.BORDER_RADIUS,defaultValue:"5px"},{id:"shd",type:Constants.SkinParamTypes.BOX_SHADOW,defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6);"},{id:"box",type:Constants.SkinParamTypes.OTHER,defaultValue:"-moz-box-sizing:border-box; -webkit-box-sizing:border-box; box-sizing:border-box;"}]),b.html('<div skinpart="wrapper"><ul><li class="row"><label class="cell"></label><div skinpart="formTitle"></div></li><li class="row hidden"><label class="cell" skinpart="firstNameFieldLabel"></label><div class="cell"><input skinpart="firstNameField" type="text" name="first"/></div></li><li class="row hidden"><label skinpart="lastNameFieldLabel" class="cell"></label><div class="cell"><input skinpart="lastNameField" type="text" name="last"/></div></li><li class="row hidden"><label skinpart="emailFieldLabel" class="cell"></label><div class="cell"><input skinpart="emailField" type="email" name="email"/></div></li><li class="row hidden"><label skinpart="phoneFieldLabel" class="cell"></label><div class="cell" skinpart="phoneField"><span class="drop-list"><input type="text" class="selected" name="code"/><span class="after">▼</span><select></select></span><div class="forPhone"><input type="phone" name="phone"/></div><em>(note: SMS rate may apply; Send "STOP" to unsubscribe)</em></div></li><li class="row hidden"><div class="cell button"><span skinpart="notifications"></span><button skinpart="submit">Subscribe</button></div></li></ul></div>'),b.css(["%wrapper%                                                    { width: 100% }","%wrapper% ul                                                 { width: 100% }","%wrapper% ul li.row                                          { min-width: 100%;}","%wrapper% ul li.row .cell                                    { display: block; position: relative;}","%wrapper% ul li.row label.cell                               { [fnt1] color: [labelTxt]; border: none; vertical-align: middle; text-align: left; padding: 3px 0; }","%wrapper% %formTitle%                                        { [tfnt] margin-bottom: 4px; color: [titleColor]; }","%wrapper% %phoneField%                                       { position: relative; }","%wrapper% .drop-list                                         { display: inline-block; width: 86px; margin: 0px 0 5px 0px; [fnt]; position: relative; padding: 0; vertical-align: top; [rd][shd][bg1]; overflow: hidden; white-space: nowrap;}","%wrapper% .drop-list .selected                               { display: block; [box] color:[txt1]; [fnt] padding: 5px 1em 5px 5px; overflow: hidden; width: 100%; border:[brw] solid [brd]; [rd]; box-shadow: none; margin: 0}","%wrapper% .drop-list .after                                  { position: absolute; color:[txt1]; right: [brw]; padding-right:5px; font-family: Arial; font-size: 0.6em; [rd]; top: 50%; margin-top: -1em}","%wrapper% .drop-list select                                  { position: absolute; width: 100%; height: 100%; top: 0; background-image: none; border: 0px; opacity: 0; filter: alpha(opacity=0); }","%wrapper% ul li.row %phoneField% .forPhone     { position: absolute; display: block; left: 95px; right: 0px; top: 0;}","%wrapper% %phoneField% .forPhone input                       { margin: 0}","%wrapper% ul li.row div.cell em                              { display: block; color: [labelTxt]}","%wrapper% ul li.row div.cell.button                          { text-align: right; vertical-align: middle; }","button                                                       { [rd][shd][bg2][fnt2] color:[txt2]; padding:5px 10px; border:none; cursor:pointer; display:inline-block;  white-space: nowrap; vertical-align:middle;  margin:2px 0 0 0 }","input                                                        { [box] color:[txt1]; [rd][shd][bg1][fnt] border:[brw] solid [brd]; padding:5px; width: 100%;}","%wrapper% ul li.row div.cell.button span                     { vertical-align: middle; display: inline-block; padding: 0 10px; [efnt];}","%wrapper% ul li.row div.cell span.success                    { color: [txtSuccess];}","%wrapper% ul li.row div.cell span.error                      { color: [txtError];}","input.error, textarea.error                                  { color: [txtError]; [fnt] border:1px solid [txtError]; }","[state~=right]                                               { direction:rtl; text-align: right; }","[state~=left]                                                { direction:ltr; text-align: left; }","[state~=right] %wrapper% ul li.row div.cell.button           { text-align: left; }","[state~=right] %wrapper% ul li.row label.cell                { text-align: right; padding:0 0 5px 15px; }","[state~=right] %phoneField%                                            { direction:ltr; text-align: left; }","[state~=right] %phoneField% em                                         { text-align: right; }","[state~=right] %phoneField% .forPhone input                            { direction:ltr; text-align: right; }","[state~=right] .drop-list .selected                                    { direction:ltr; text-align: right; padding-right: 20px}","[state~=right] .drop-list                                              { direction:ltr; text-align: left;}",'[state~=right][state~="mobile"] ul li.row div.cell .drop-list .selected { padding-right: 20px; }',"[state~=mobile][state~=right] %wrapper% ul li.row label.cell { text-align: right; }","[state~=left] %wrapper% ul li.row label.cell                 { text-align: left; }","[state~=mobile][state~=left] %wrapper% ul li.row label.cell  { text-align: left; }","[state~=right] %wrapper% ul li.row div.cell select + input   { margin-right: 23% }",'[state~="mobile"] %wrapper% ul                               { display: block; width:100%; font-size: 14px; padding: 0; margin:3px 0; }','[state~="mobile"] %wrapper% ul li.row                        { display: block; width:100%; }','[state~="mobile"] %wrapper% ul li.row label.cell             { display: block; width:100%; font-size: 14px; margin: 3px 0; }','[state~="mobile"] ul li.row div.cell                         { display: block; width:100%; font-size: 14px; padding: 0; margin: 3px 0; }','[state~="mobile"] ul li.row div.cell input                   { width: 100%; font-size: 14px; padding: 0 5px; margin: 0; height: 45px; line-height: 45px; -webkit-appearance:none }','[state~="mobile"] ul li.row div.cell .drop-list              { height: 45px; margin-top: 0; line-height: 45px; width: 86px;}','[state~="mobile"] ul li.row div.cell .drop-list .selected    { height: 45px; line-height: 35px; font-size: 14px;}','[state~="mobile"] ul li.row div.cell .drop-list .after       { top: 0; bottom: 0; right: [brw]; line-height: 45px; font-size: 12px; margin: 0;}','[state~="mobile"] ul li.row div.cell span + input            { display: inline-block;}','[state~="mobile"] ul li.row div.cell select                  { font-size: 14px; height: 45px; line-height: 45px; }','[state~="mobile"] ul li.row div.cell em                      { font-size: 10px; margin-top: 10px}','[state~="mobile"] ul li.row div.cell.button span             { display: block; text-align: center; padding: 0; width:100% }','[state~="mobile"] ul li.row div.cell.button button           { margin-top: 10px; }'])}),define.resource("subscribeformSkinMap",{"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormPlaceholderSkin":{description:"Basic Subscribe Form",iconUrl:"/images/wysiwyg/skinIcons/forms/formonecol.png",hidden:!1,index:0},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormSkin":{description:"Vertical Subscribe Form with labels on the left",iconUrl:"/images/wysiwyg/skinIcons/forms/formonecollabelleft.png",hidden:!1,index:1},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormSkinTopLabels":{description:"Vertical Subscribe Form with labels on the top",iconUrl:"/images/wysiwyg/skinIcons/forms/formonecollabel.png",hidden:!1,index:2}});