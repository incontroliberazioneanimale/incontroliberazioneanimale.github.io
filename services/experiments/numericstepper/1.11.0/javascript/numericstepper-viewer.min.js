define.experiment.newComponent("wysiwyg.common.components.numericstepper.viewer.NumericStepper.NumericStepper.New",function(a){var b=a;b.resources(["W.Data","W.Config"]),b.inherits("core.components.base.BaseComp"),b.propertiesSchemaType("NumericStepperProperties"),b.dataTypes(["NumericStepper"]),b.binds(["_changeEventHandler","_fireKeyUp","_fireBlur"]),b.skinParts({inputNumberInput:{type:"htmlElement"},controls:{type:"htmlElement"}}),b.methods({_params:{},_onRender:function(a){var b=a.data.invalidations;b.isInvalidated([this.INVALIDATIONS.FIRST_RENDER])&&this._firstRender(),b.isInvalidated([this.INVALIDATIONS.DATA_CHANGE])&&this._onDataChange(),b.isInvalidated([this.INVALIDATIONS.SKIN_CHANGE])&&(this._setValues(),this._attachEvents())},_setValues:function(){var a=this.getComponentProperties();this._params.min=a.get("minValue"),this._params.max=a.get("maxValue"),this._skinParts.inputNumberInput.set("value",this.getDataItem().get("text"))},_attachEvents:function(){this._checkInput();var a=this._skinParts.controls.getElement(".plus"),b=this._skinParts.controls.getElement(".minus");a&&b&&(a.addEvent("click",function(){this._changeValue(1)}.bind(this)),b.addEvent("click",function(){this._changeValue(-1)}.bind(this))),this._skinParts.inputNumberInput.addEvent("mousewheel",function(a){document.activeElement==this._skinParts.inputNumberInput&&(a.preventDefault(),a.wheel>0?this._changeValue(1)||a.preventDefault():this._changeValue(-1)||a.preventDefault())}.bind(this)),this._skinParts.inputNumberInput.addEvent(Constants.CoreEvents.KEY_DOWN,function(a){return"space"!=a.key&&(!a.shift||a.code>=35&&a.code<=40)&&(1!=a.key.length||a.control||a.meta||a.shift||a.code>=48&&a.code<=57||a.code>=96&&a.code<=105)}.bind(this)),this._skinParts.inputNumberInput.addEvent(Constants.CoreEvents.CUT,this._changeEventHandler),this._skinParts.inputNumberInput.addEvent(Constants.CoreEvents.PASTE,this._changeEventHandler),this._skinParts.inputNumberInput.addEvent(Constants.CoreEvents.CHANGE,this._changeEventHandler),this._skinParts.inputNumberInput.addEvent(Constants.CoreEvents.KEY_UP,this._fireKeyUp),this._skinParts.inputNumberInput.addEvent(Constants.CoreEvents.BLUR,this._fireBlur)},_changeEventHandler:function(){""!=this._skinParts.inputNumberInput.get("value")&&this._checkInput()},_fireKeyUp:function(a){(""!=this._skinParts.inputNumberInput.get("value")||"13"==a.code)&&this._checkInput(),this.fireEvent(Constants.CoreEvents.KEY_UP,a)},_fireBlur:function(a){this._checkInput(),this.fireEvent(Constants.CoreEvents.BLUR,a)},_checkInput:function(){var a=this._skinParts.inputNumberInput.get("value"),b=parseInt(a),c=this.getDataItem().get("text");""==a||isNaN(b)||b.toString()!==a?(b=c,this._skinParts.inputNumberInput.set("value",b)):b<this._params.min?(b=this._params.min,this._skinParts.inputNumberInput.set("value",b)):b>this._params.max&&(b=this._params.max,this._skinParts.inputNumberInput.set("value",b),this._skinParts.inputNumberInput.blur(),this.fireEvent("validationFailed",{value:b,validValue:this._params.max})),c!=b&&(this.getDataItem().set("text",b),this.fireEvent("inputChanged",{value:b,compLogic:this}))},_firstRender:function(){},_onDataChange:function(){this._skinParts.inputNumberInput.set("value",this.getDataItem().get("text"))},_changeValue:function(a){var b=parseInt(this._skinParts.inputNumberInput.get("value"))+parseInt(a);return b<this._params.min||b>this._params.max?!1:(this._skinParts.inputNumberInput.set("value",b),this._checkInput(),!0)}})}),define.experiment.newDataSchema("NumericStepper.NumericStepper.New",function(){return{text:{type:"string","default":"1"}}}),define.experiment.newDataSchema("NumericStepperProperties.NumericStepper.New",function(){return{minValue:{type:"number","default":0,description:"Min value for input"},maxValue:{type:"number","default":999,description:"Max value for input"}}}),define.resource("numericstepperSkinMap",{"wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperHorizontalSkin":{description:"Basic",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/horizontal.png",hidden:!1,index:1},"wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperModernSkin":{description:"Modern",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/modern.png",hidden:!1,index:3},"wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperSimpleSkin":{description:"Simple",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/simple.png",hidden:!1,index:0},"wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperVerticalSkin":{description:"Vertical",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/vertical.png",hidden:!1,index:2}}),define.skin("wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperHorizontalSkin",function(a){var b=a;b.inherits("core.managers.skin.BaseSkin2"),b.iconParams({description:"Basic",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/horizontal.png",hidden:!1,index:1}),b.skinParams([{id:"backgroundcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_1",lang:"NUMERICSTEPPER_BACKGROUNDCOLOR"},{id:"bordercolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_14",lang:"NUMERICSTEPPER_BORDERCOLOR"},{id:"textcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_13",lang:"NUMERICSTEPPER_TEXTCOLOR"},{id:"buttonscolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_14",lang:"NUMERICSTEPPER_BUTTONSCOLOR"},{id:"buttontextcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_1",lang:"NUMERICSTEPPER_BUTTONTEXTCOLOR"}]),b.html('<div skinpart="inputNumberWrapper"><div class="numericStepper" skinpart="inputNumberContainer"><input skinpart="inputNumberInput" type="text"><div skinpart="controls" class="inputNumberControls"><a class="plus">+</a><a class="minus">-</a></div></div></div>'),b.css(["%inputNumberWrapper% { width: 70px; height: 38px; }","%inputNumberContainer% { border:1px solid [bordercolor]; position: relative; height: 21px; width: 68px; display: inline-block; margin-top: 7px; }","%inputNumberInput% { border:none; width: 26px; height: 21px; text-align: center; position: absolute; top: 0; left: 21px; background-color:[backgroundcolor]; color:[textcolor]; font-size: 10px; -webkit-appearance:none; padding:0; border-radius:0; }","%controls% a.minus { left: 0; }","%controls% a.plus { left: 47px; }","%controls% a { background-color: [buttonscolor]; color: [buttontextcolor]; display: block; width: 21px; height: 21px; position: absolute; top: 0; text-align: center; line-height:20px; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none; font-size: 14px; }","%controls% a:focus { outline: 0;}"])}),define.skin("wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperModernSkin",function(a){var b=a;b.inherits("core.managers.skin.BaseSkin2"),b.iconParams({description:"Modern",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/modern.png",hidden:!1,index:3}),b.skinParams([{id:"backgroundcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_1",lang:"NUMERICSTEPPER_BACKGROUNDCOLOR"},{id:"bordercolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_14",lang:"NUMERICSTEPPER_BORDERCOLOR"},{id:"textcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_13",lang:"NUMERICSTEPPER_TEXTCOLOR"},{id:"buttonscolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_14",lang:"NUMERICSTEPPER_BUTTONSCOLOR"},{id:"arrowscolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_1",lang:"NUMERICSTEPPER_ARROWSCOLOR"}]),b.html('<div skinpart="inputNumberWrapper"><div class="numericStepper" skinpart="inputNumberContainer"><input skinpart="inputNumberInput" type="text"><div skinpart="controls" class="inputNumberControls"><a class="plus"><span></span></a><a class="minus"><span></span></a></div></div></div>'),b.css(["%inputNumberWrapper% { width: 70px; height: 38px; }","%inputNumberContainer% { border:1px solid [bordercolor]; position: relative; height: 21px; width: 68px; display: inline-block; margin-top: 7px; }","%inputNumberInput% { border:none; width: 26px; height: 21px; text-align: center; position: absolute; top: 0; left: 21px; background-color:[backgroundcolor]; color:[textcolor]; font-size: 10px; -webkit-appearance:none; padding:0; border-radius:0; }","%controls% a.minus { left: 0; }","%controls% a.plus { left: 47px; }","%controls% a { background-color: [buttonscolor]; display: block; width: 21px; height: 21px; position: absolute; top: 0; text-align: center; line-height:20px; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none; font-size: 14px; }","%controls% a:focus { outline: 0;}","%controls% span { display: inline-block; vertical-align: middle; width: 10px; height: 10px; border-top: 1px solid [arrowscolor]; border-right: 1px solid [arrowscolor]; margin-bottom: 1px; }","%controls% a.plus span { transform: rotate(45deg); -ms-transform: rotate(45deg); -webkit-transform: rotate(45deg); margin-right: 5px; }","%controls% a.minus span { transform: rotate(-135deg); -ms-transform: rotate(-135deg); -webkit-transform: rotate(-135deg); margin-left: 5px; }"])}),define.skin("wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperSimpleSkin",function(a){var b=a;b.inherits("core.managers.skin.BaseSkin2"),b.iconParams({description:"Simple",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/simple.png",hidden:!1,index:0}),b.skinParams([{id:"backgroundcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_1",lang:"NUMERICSTEPPER_BACKGROUNDCOLOR"},{id:"bordercolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_14",lang:"NUMERICSTEPPER_BORDERCOLOR"},{id:"textcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_13",lang:"NUMERICSTEPPER_TEXTCOLOR"}]),b.html('<div skinpart="inputNumberWrapper"><input skinpart="inputNumberInput" type="number" step="1"><div skinpart="controls"></div></div>'),b.css(["%inputNumberWrapper% { width:100%; height:38px; }","input { width:100%; position:relative; padding:5px; border:1px solid [bordercolor]; color:[textcolor]; background:[backgroundcolor]; display: inline-block; margin-top: 6px; }"])}),define.skin("wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperVerticalSkin",function(a){var b=a;b.inherits("core.managers.skin.BaseSkin2"),b.iconParams({description:"Vertical",iconUrl:"/images/wysiwyg/skinIcons/numericstepper/vertical.png",hidden:!1,index:2}),b.skinParams([{id:"backgroundcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_1",lang:"NUMERICSTEPPER_BACKGROUNDCOLOR"},{id:"bordercolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_14",lang:"NUMERICSTEPPER_BORDERCOLOR"},{id:"textcolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_13",lang:"NUMERICSTEPPER_TEXTCOLOR"},{id:"buttonscolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_14",lang:"NUMERICSTEPPER_BUTTONSCOLOR"},{id:"arrowscolor",type:Constants.SkinParamTypes.COLOR_ALPHA,defaultTheme:"color_1",lang:"NUMERICSTEPPER_ARROWSCOLOR"}]),b.html('<div skinpart="inputNumberWrapper"><div class="numericStepper" skinpart="inputNumberContainer"><input skinpart="inputNumberInput" type="text"><div skinpart="controls" class="inputNumberControls"><a class="plus"><span></span></a><a class="minus"><span></span></a></div></div></div>'),b.css(["%inputNumberWrapper% { width: 70px; height: 38px; }","%inputNumberContainer% { border:1px solid [bordercolor]; border-radius: 3px; width: 28px; position: relative; height: 36px; margin: 0 auto; }","%inputNumberInput% { width: 28px; height: 17px; text-align: center; position: absolute; top: 10px; left: 0; background-color:[backgroundcolor]; color:[textcolor]; border:0; font-size: 10px; -webkit-appearance:none; padding:0; border-radius:0; }","%controls% a.plus { top: 0;  }","%controls% a.minus { top: 26px; }","%controls% a { background-color: [buttonscolor]; display: block; width: 28px; height: 10px; position: absolute; left: 0; text-align: center; line-height:9px; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none; overflow:hidden; }","%controls% a:focus { outline: 0; }","%controls% span { display: inline-block; width: 3px; height: 3px; border-top: 1px solid [arrowscolor]; border-right: 1px solid [arrowscolor]; }","%controls% a.plus span { transform: rotate(-45deg); -ms-transform: rotate(-45deg); -webkit-transform: rotate(-45deg); }","%controls% a.minus span { transform: rotate(135deg); -ms-transform: rotate(135deg); -webkit-transform: rotate(135deg); margin-bottom: 1px; }"])});