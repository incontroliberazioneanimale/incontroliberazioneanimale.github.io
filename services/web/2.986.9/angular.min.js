W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("biEvent",function(){var a=LOG,b={reportEvent:function(b,c){a.reportEvent(b,c)},reportError:function(b,c){a.reportError(b,c)}};return b})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("configManager",function(){var a=W.Config,b={webThemeDir:a.getServiceTopologyProperty("staticThemeUrlWeb")+"/editor_web/"};return b})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("ImageUtils",function(){var a=null;return W.Classes.getClass("core.components.image.ImageUrlNew",function(b){b&&(a=new b)}),{getUrlForPyramid:a&&a._getUrlForPyramid.bind(a)}})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("editorResources",["$sce",function(a){function b(){if(!g)return"angular";var a;return a=e.resources.topology.wysiwyg.indexOf("services")>-1?"http://"+window.location.host+"/_partials"+e.resources.topology.wysiwyg.split("/services")[1]:e.resources.topology.wysiwyg,a+"/javascript/angular"}function c(b){"/"!==b[0]&&(b="/"+b);var c=(h+b).toLowerCase();return a.trustAsResourceUrl(c)}function d(a,b,c){return e.get(b||"EDITOR_LANGUAGE",a,c)}var e=W.Resources,f=W.Config,g=function(){var a=!1;return resource.getResources(["mode","debugModeArtifacts"],function(b){(b.mode.debug||b.debugModeArtifacts.wysiwyg||b.debugModeArtifacts.web)&&(a=!0)}),a}(),h=b();return{topology:e.resources.topology,getAngularPartialPath:c,translate:d,getMediaStaticUrl:f.getMediaStaticUrl.bind(f),isDebugMode:g}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("editorUtils",function(){var a=W.Utils;return{getPositionRelativeToWindow:function(b){return a.getPositionRelativeToWindow(b)}}})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("galleryService",["editorCommands","editorComponent",function(a,b){var c=function(c,d,e){var f=b.getEditedComponent(),g=f.getDataItem(),h={data:g,galleryConfigID:c,startingTab:d||"my",source:e||"NO_SOURCE_SPECIFIED"};a.executeCommand("WEditorCommands.OpenListEditDialog",h)},d=function(){var c=b.getEditedComponent(),d={selectedComp:c};a.executeCommand("WEditorCommands.OpenChangeGalleryDialog",d)};return{openOrganizeImages:c,openChangeGalleryDialog:d}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("linkRendererService",function(){function a(a){var b=c.getDataByQuery(a);return e.renderLinkDataItemForPropertyPanel(b)}var b=W.Classes,c=W.Preview.getPreviewManagers().Data,d=b.getClass("wysiwyg.common.utils.LinkRenderer"),e=new d;return{renderLinkForPropertyPanel:a}})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").run(["$rootScope",function(a){a.safeApply=function(a){var b=this.$root.$$phase;"$apply"==b||"$digest"==b?a&&"function"==typeof a&&a():this.$apply(a)}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("angularEditor").factory("undoRedoManager",function(){return{startTransaction:W.UndoRedoManager.startTransaction.bind(W.UndoRedoManager),endTransaction:W.UndoRedoManager.endTransaction.bind(W.UndoRedoManager)}})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("dialogs").factory("baseDialog",["$compile","$rootScope","editorResources",function(a,b,c){function d(){return h||(h=$("ngDialogs")),h}function e(a,b){a.elm.dispose(),b&&(a.scope.reason=b),console.log("Dialog closed: ",a),a.deferred.resolve(a.scope)}function f(c,d){d=d||b.$new();var f=angular.element("<div></div>");f.attr({"template-url":c}).html(i),d.dialogContent=c,f=a(f)(d)[0];var g={elm:f,scope:d,deferred:Q.defer()};return d.closeDialog=e.bind(null,g),g}function g(a,b){var c=f(a,b);return d().appendChild(c.elm),c.deferred.promise}var h,i='<div class="wix-modal-dialog-wrapper"><div class="wix-modal-dialog-block-layer"></div><ng-include src="\''+c.getAngularPartialPath("/dialogs/BaseDialogTemplate.html")+"'\"></ng-include></div>",j={PRIMARY:"primary"},k={OK:{type:j.PRIMARY,label:"Button Label OK!",align:"right",action:"ok"},CANCEL:{type:j.PRIMARY,label:"Button Label Cancel!",align:"left",action:"ok"},YES:"YES",NO:"NO",DONE:"DONE",DELETE:"DELETE"},l={OK:[k.OK],DONE:[k.DONE],OK_CANCEL:[k.OK,k.CANCEL],DELETE_CANCEL:[k.DELETE,k.CANCEL],YES_NO:[k.YES,k.NO],NONE:[]};return{openDialog:g,BUTTONS_SET:l}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("dialogs").factory("messageDialog",["baseDialog","$rootScope","editorResources",function(a,b,c){function d(c,d,f,g){g=g||b.$new(),g.dlgTitle=c,g.message=d,g.buttonsSet=f,a.openDialog(e,g)}var e=c.getAngularPartialPath("/dialogs/messagedialog/MessageDialogTemplate.html");return{openMessageDialog:d,BUTTONS_SET:a.BUTTONS_SET}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("editorInterop").factory("editorCommands",["$rootScope",function(a){var b=W.Commands,c={_registeredCommands:[],listenToCommand:function(a){_.contains(this._registeredCommands,a)||(this._registeredCommands.push(a),b.registerCommandAndListener(a,this,this._broadcastCommand))},_broadcastCommand:function(b,c){var d=c.command.getName();a.safeApply(function(){a.$broadcast(d,b)})},executeCommand:function(a,c,d){b.executeCommand(a,c,d)}};return c}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("editorInterop").factory("editorComponent",["$rootScope","editorCommands",function(a,b){function c(a){return a=a||d(),a&&a.getComponentProperties?a.getComponentProperties():void 0}function d(){return k||l.getEditedComponent()}function e(a){return a=a||d(),a&&a.getDataItem?a.getDataItem():void 0}function f(a,b){Object.defineProperty(a,b,{get:function(){return this._dataItem._data[b]},set:function(a){this._dataItem.set(b,a)}})}function g(b){var c={destroy:function(){c._dataItem.offByListener(this)}};return Object.defineProperty(c,"_dataItem",{enumerable:!1,value:b}),_.forOwn(b._data,function(a,b){f(c,b)}),c._dataItem.on("dataChanged",c,function(b){b&&b.data&&b.data.newValue&&a.safeApply()}),c}function h(b,c){c.comp&&(k=c.comp),a.$broadcast("selectedComponentChanged",c)}function i(a,b,c){var d=m[a];if(d){var e=d.getItem(c);if(d.currentItem&&d.currentItem.destroy&&d.currentItem.destroy(),d.currentItem=e,e){var f=g(e);b[a]=f,d.currentItem=f}else delete b[a],d.currentItem=null}}function j(a){return a&&a.getOriginalClassName()&&a.getOriginalClassName().split(".").getLast()}var k,l=W.Editor,m={data:{getItem:e,currentItem:null,unwatchFn:null,TYPE:"data"},properties:{getItem:c,currentItem:null,unwatchFn:null,TYPE:"properties"}};return b.listenToCommand("WEditorCommands.SelectedComponentChange"),a.$on("WEditorCommands.SelectedComponentChange",h),{getEditedComponent:d,getComponentData:function(){var a={destroy:function(){_.forOwn(this,function(a){a.destroy&&a.destroy()})}},b=d();return i(m.data.TYPE,a,b),i(m.properties.TYPE,a,b),a.label=j(b),a},getLegacyPanel:function(){var a,b=d();if(b){var c=b.getDataItem(),e=c?c.getType():"",f=b._panel_||l.getDataPanel(e,b.getOriginalClassName());return f&&(a=W.Components.createComponent(f.logic,f.skin,c,{previewComponent:b})),a}},EDIT_MODE:l.EDIT_MODE}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("propertyPanel").service("componentLayout",["$rootScope","editorCommands","editorComponent",function(a,b,c){function d(b,c){a.$broadcast("onComponentLayoutChanged",c)}var e=W.Editor,f=function(){var a=c.getEditedComponent();if(a){var b={};return b.layout={width:a.getWidth(),height:a.getHeight(),x:a.getX(),y:a.getY(),angle:a.getAngle()},b.rotatable=a.isRotatable(),b}};return b.listenToCommand("WEditorCommands.componentLayoutChanged"),a.$on("WEditorCommands.componentLayoutChanged",d),{getComponentScope:function(){var a=c.getEditedComponent();return e.getComponentScope(a)},toggleComponentScope:function(a){b.executeCommand("EditCommands.moveCurrentComponentToOtherScope",{event:{value:a}})},setSelectedCompPositionSize:function(a){b.executeCommand("WEditorCommands.SetSelectedCompPositionSize",a)},setSelectedCompRotationAngle:function(a){b.executeCommand("WEditorCommands.SetSelectedCompRotationAngle",a)},getSelectedCompLayoutData:function(){return f()}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.controller("GeneralPropertiesController",["$scope","editorComponent","componentLayout",function(a,b,c){function d(){}function e(){i||(j.layoutData=c.getSelectedCompLayoutData(),a.safeApply())}function f(c,d){var e={},f=b.getEditedComponent(),g=f&&f.getSizeLimits(),h=!1;switch(c.target.name){case"xInput":d=f.getX()+(d-f.getBoundingX()),e.x=Math.min(Math.max(d,f.MINIMUM_X_DEFAULT),f.MAXIMUM_X_DEFAULT),e.x!=a.generalPropertiesController.layoutData.x&&(a.generalPropertiesController.layoutData.x=e.x,h=!0);break;case"yInput":d=f.getY()+(d-f.getBoundingY()),e.y=Math.min(Math.max(d,f.MINIMUM_Y_DEFAULT),f.MAXIMUM_Y_DEFAULT),e.y!=a.generalPropertiesController.layoutData.y&&(a.generalPropertiesController.layoutData.y=e.y,h=!0);break;case"width":f&&f.isHorizResizable()&&(e.width=Math.min(Math.max(d,g.minW),g.maxW),e.width!=a.generalPropertiesController.layoutData.width&&(a.generalPropertiesController.layoutData.width=e.width,h=!0));break;case"height":f&&f.isVertResizable()&&(e.height=Math.min(Math.max(d,g.minH),g.maxH),e.height!=a.generalPropertiesController.layoutData.height&&(a.generalPropertiesController.layoutData.height=e.height,h=!0));break;case"angle":f&&f.isRotatable()&&(e.rotationAngle=d,e.rotationAngle!=a.generalPropertiesController.layoutData.angle&&(a.generalPropertiesController.layoutData.angle=e.rotationAngle,h=!0))}return h?e:void 0}function g(a,b){b.comp&&(h(),e())}function h(){var a=c.getComponentScope();j.showOnAllPages=a!==b.EDIT_MODE.CURRENT_PAGE}var i=!1,j=this;this.layoutData={},this.applyProperties=function(a){var g=parseInt(a.target.getProperty("value"),10),h=b.getEditedComponent();if(isNaN(g))return e(),void 0;var j=f(a,g);j&&(j.updateLayout=!0,j.allowPageShrink=!0,j.warningIfOutOfGrid=!0,i=!0,_.isUndefined(j.rotationAngle)?(c.setSelectedCompPositionSize(j),(j.width||j.height)&&(h.fireEvent("resizeEnd"),h.trigger("resizeEnd"))):(h._reportPanelRotation||j.rotationAngle===h.getAngle()||(h._reportPanelRotation=!0,d(j.rotationAngle)),j.updateControllers=!0,c.setSelectedCompRotationAngle(j)),i=!1)},this._toggleComponentScope=function(){c.toggleComponentScope()},a.$on("onComponentLayoutChanged",e),a.$on("selectedComponentChanged",g),this.onKeyup=function(b){13===b.keyCode&&a.generalPropertiesController.applyProperties(b)}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.controller("PropertyPanelController",["$scope","$element","$state","configManager","editorCommands","editorComponent","editorResources","$timeout","propertyPanelNavigation",function(a,b,c,d,e,f,g,h,i){function j(){var a=b[0],c=a.querySelector(".wix-draggable");a.makeDraggable({handle:c})}function k(a){if(a){var b=i.getPanelPath(a);t.contentPanel=b.url,t.isLegacyPanel=b.isLegacy}else t.contentPanel=""}function l(){var a=f.getEditedComponent();if(t.hasComponent=!!a,a){t.compData=f.getComponentData();var b=a.getComponentProperties();t.compPropertiesSchema=b?b._schema:null,k(a.$className),h(function(){p()},0,!1)}}function m(){if(!s){var a,c=0;a=b[0].getSize().y;var d=b[0].getElement("div[name=contentPanelWrapper]");d&&(c=d.getComputedSize({styles:["padding","border","margin"]}).totalHeight),s=a-c}return s}function n(){return r||(r=b[0].getElement("div[name=contentPanelWrapper]").getStyle("max-height").replace("px",""),r=parseInt(r,10)),r}function o(){return!t.isPropertyPanelClosed}function p(){if(o()){var a,c=140,d=m(),e=n();a=window.getHeight()-d-c,a=Math.min(a,e),b[0].getElement("div[name=contentPanelWrapper]").setStyle("height",a)}}function q(b,c){t.isPropertyPanelClosed&&c&&"fpp"===c.src&&(t.isPropertyPanelClosed=!1,a.$digest())}this.footerURL=g.getAngularPartialPath("/propertypanel/PropertyPanelFooter.html"),this.webThemeDir=d.webThemeDir,a.webThemeDir=d.webThemeDir,this.compData={};var r,s,t=this;a.$watch("propertyPanelController.compData.label",function(a){t.compLabel="COMP_"+a,t.compDesc="COMP_DESC_"+a}),window.addEvent("resize",_.throttle(p,250)),this.closePropertyPanel=function(){t.isPropertyPanelClosed=!0},e.listenToCommand("EditorUI.OpenPropertyPanel"),a.$on("EditorUI.OpenPropertyPanel",q),a.$on("selectedComponentChanged",l),j(),this.navigateTo=k,this.isPropertyPanelClosed=!1}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("propertyPanel").provider("propertyPanelNavigation",function(){var a={},b="/propertyPanel/panels/legacy/LegacyPanelView.html";return{registerPropertyPanel:function(b,c){a[b]=c},$get:["editorResources",function(c){return{getPanelPath:function(d){var e=a[d];return{url:e?c.getAngularPartialPath(e):c.getAngularPartialPath(b),isLegacy:!e}}}}]}})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.config(["propertyPanelNavigationProvider",function(a){a.registerPropertyPanel("wysiwyg.viewer.components.ClipArt","/propertyPanel/panels/clipart/ClipartPanelMainView.html")}]),a.controller("ClipArtPanelController",["$scope","editorResources",function(){}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.directive("legacyPanel",["$timeout","editorComponent",function(a,b){var c,d;return{restrict:"E",template:"<div></div>",link:function(e,f){function g(){h(),e.propertyPanelController.isLegacyPanel&&(c=b.getLegacyPanel(),c&&(f.children().remove(),a(function(){c.insertInto(f[0])},0,!1)))}function h(){c&&(c.$logic&&c.$logic.dispose?c.$logic.dispose():c.dispose())}d=e.$on("selectedComponentChanged",g),e.$on("$destroy",function(){d(),h()}),g()}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.config(["propertyPanelNavigationProvider",function(a){a.registerPropertyPanel("wysiwyg.viewer.components.BgImageStrip","/propertyPanel/panels/testpanel/TestPanelView.html")}]),a.controller("TestPanelController",["$scope","messageDialog",function(a,b){this.btnLabel="'Show Flying Mussa!'",this.selectOptions=[{value:"fill",label:"Types.WPhotoProperties.displayMode.fill"},{value:"full",label:"Types.WPhotoProperties.displayMode.full"},{value:"stretch",label:"Types.WPhotoProperties.displayMode.stretch"},{value:"fitWidth",label:"Types.WPhotoProperties.displayMode.fitWidth"}],this.switchState=!0,this.openTestDialog=function(){b.openMessageDialog("Message title","Message content",b.BUTTONS_SET.OK)},this.firstSlider=6,this.secondSlider=-3}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.config(["propertyPanelNavigationProvider",function(a){a.registerPropertyPanel("tpa.viewer.components.Thumbnails","/propertypanel/panels/thumbnailsgallerypanel/ThumbnailsGalleryPanel.html")}]),a.controller("WThumbnailGalleryController",["$scope","editorResources",function(a,h){this.imageScalingOptions=b(),this.transitionOptions=c(),this.thumbsPositionOptions=d();var i="/images/wysiwyg/core/themes/editor_web/radiobuttons/",l=h.topology.skins+i;this.thumbnailsProportionsButtonData=j(l),this.onImageClickedOptions=e(),this.fontOptions=f(),this.textModeOptions=g(),this.alignmentButtonsData=k(l)}]);var b=function(){return[{value:"crop",label:"Types.WPhotoProperties.displayMode.fill"},{value:"fit",label:"Types.WPhotoProperties.displayMode.fitWidth"}]},c=function(){return[{label:"None",value:"none"},{label:"Cross Fade",value:"crossFade"},{label:"Slide horizontal",value:"slide"},{label:"Slide vertical",value:"scroll"},{label:"Zoom",value:"zoom"},{label:"Random",value:"random"}]},d=function(){return[{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}]},e=function(){return[{label:"Types.MatrixGalleryProperties.galleryImageOnClickAction.disabled",value:"disabled"},{label:"Types.MatrixGalleryProperties.galleryImageOnClickAction.goToLink",value:"goToLink"},{label:"Types.MatrixGalleryProperties.galleryImageOnClickAction.zoomMode",value:"zoomMode"}]},f=function(){return[{label:"System.font.arial",value:"arial"},{label:"System.font.arialBlack",value:"arialBlack"},{label:"System.font.comicSansMS",value:"comicSansMS"},{label:"System.font.courierNew",value:"courierNew"},{label:"System.font.georgia",value:"georgia"},{label:"System.font.impact",value:"impact"},{label:"System.font.lucidaConsole",value:"lucidaConsole"},{label:"System.font.lucidaSansConsole",value:"lucidaSansConsole"},{label:"System.font.palatinoLinotype",value:"palatinoLinotype"},{label:"System.font.tahoma",value:"tahoma"},{label:"System.font.timesNewRoman",value:"timesNewRoman"},{label:"System.font.verdana",value:"verdana"}]},g=function(){return[{label:"System.textMode.titleAndDescription",value:"titleAndDescription"},{label:"System.textMode.titleOnly",value:"titleOnly"},{label:"System.textMode.descriptionOnly",value:"descriptionOnly"},{label:"System.textMode.noText",value:"noText"}]},h=function(a,b,c,d){var e=a+"radio_button_states.png";return e="'"+e+"'",{unchecked:"url("+e+") 0px "+b+" no-repeat",checked:"url("+e+") 0px "+c+" no-repeat",onHover:"url("+e+") 0px "+d+" no-repeat"}},i=function(a,b,c){var d="'"+a+c+"'";b.unchecked="url("+d+"),"+b.unchecked,b.checked="url("+d+"),"+b.checked,b.onHover="url("+d+"),"+b.onHover},j=function(a){var b=h(a+"aspRatio/","0px","-103px","-50px"),c=_.cloneDeep(b);i(a,c,"aspRatio/16-9.png");var d=_.cloneDeep(b);i(a,d,"aspRatio/4-3.png");var e=_.cloneDeep(b);return i(a,e,"aspRatio/1-1.png"),[{imageCss:c,value:"16:9"},{imageCss:d,value:"4:3"},{imageCss:e,value:"1:1"}]},k=function(a){var b=h(a,"0px","-66px","-33px"),c=_.cloneDeep(b),d=_.cloneDeep(b),e=_.cloneDeep(b);return i(a,c,"alignment/left.png"),i(a,d,"alignment/center.png"),i(a,e,"alignment/right.png"),[{imageCss:c,value:"left"},{imageCss:d,value:"center"},{imageCss:e,value:"right"}]}}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.config(["propertyPanelNavigationProvider",function(a){a.registerPropertyPanel("wysiwyg.viewer.components.WPhoto","/propertypanel/panels/wphoto/WPhotoPanelView.html")}]),a.controller("WPhotoPanelController",["$scope",function(){this.imageScalingOptions=[{value:"fill",label:"Types.WPhotoProperties.displayMode.fill"},{value:"full",label:"Types.WPhotoProperties.displayMode.full"},{value:"stretch",label:"Types.WPhotoProperties.displayMode.stretch"},{value:"fitWidth",label:"Types.WPhotoProperties.displayMode.fitWidth"}],this.onClickBehaviorOptions=[{value:"disabled",label:"Types.WPhotoProperties.displayMode.disabled"},{value:"goToLink",label:"Types.WPhotoProperties.displayMode.goToLink"},{value:"zoomMode",label:"Types.WPhotoProperties.displayMode.zoomMode"},{value:"zoomAndPanMode",label:"Types.WPhotoProperties.displayMode.zoomAndPanMode"}]}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("propertyPanel");a.config(["propertyPanelNavigationProvider",function(a){a.registerPropertyPanel("wysiwyg.viewer.components.WRichText","/propertypanel/panels/wrichtext/WRichtextView.html")}])}),W.AngularManager.executeExperiment("NGEditor",function(){angular.module("propertyPanel").run(["$templateCache",function(a){"use strict";a.put("angular/dialogs/basedialogtemplate.html",'<div class="wix-dialog wix-dialog-center"><div class="wix-dialog-titlebar wix-draggable"><strong class="wix-dialog-titlebar-title" wix-translate="dlgTitle"></strong><div class="wix-dialog-titlebar-actions"><div class="wix-dialog-titlebar-actions-help"><span>&nbsp;</span></div><div class="wix-dialog-titlebar-actions-close" ng-click="closeDialog(\'CANCEL\')"><span>&nbsp;</span></div></div></div><div ng-include="dialogContent"></div><div class="wix-dialog-buttons-container clearfix" ng-show="buttonsSet" ng-repeat="btn in buttonsSet"><div class="wix-dialog-btn wix-dialog-btn-{{btn.align}} wix-dialog-btn-{{btn.type}}" ng-click="closeDialog(btn.action)" wix-translate="btn.label"></div></div></div>'),a.put("angular/dialogs/testdialogtemplate.html",'<div class="ng-testdialog-container" ng-click="closeDialog()">{{ content }}</div>'),a.put("angular/dialogs/messagedialog/messagedialogtemplate.html",'<div class="wix-dialog-content"><div class="message" wix-translate="message"></div></div>'),a.put("angular/propertypanel/propertypanelfooter.html",'<div class="footer" ng-controller="GeneralPropertiesController as generalPropertiesController"><div class="wix-ng-panel-show-on-all-pages-wrapper"><div class="wix-ng-panel-show-on-all-pages" ng-class="{\'all-pages-selected\': generalPropertiesController.showOnAllPages}"><wix-checkbox wix-data="generalPropertiesController.showOnAllPages" label="SHOW_ON_ALL_PAGES" tooltip="Component_Panel_is_in_master_ttid" ng-click="generalPropertiesController._toggleComponentScope($event)"></div></div><form ng-keyup="generalPropertiesController.onKeyup($event)" name="generalProperties" class="clearfix"><div class="generalPos"><div class="posInputDiv"><label><span>x</span> <input name="xInput" class="posInput" ng-model="generalPropertiesController.layoutData.layout.x" ng-blur="generalPropertiesController.applyProperties($event)"></label></div><div class="posInputDiv"><label><span>y</span> <input name="yInput" class="posInput" ng-model="generalPropertiesController.layoutData.layout.y" ng-blur="generalPropertiesController.applyProperties($event)"></label></div></div><div class="generalSize"><div class="allowAnchorsButton" ng-style="{\'background-image\':\'url({{webThemeDir}}editingFrame/lock_btn.png)\'}"></div><div ng-show="generalPropertiesController.layoutData.rotatable" class="angle posInputDiv"><div class="angleIcon" ng-style="{\'background-image\':\'url({{webThemeDir}}editingFrame/angle_icon.png)\'}"></div><input name="angle" ng-model="generalPropertiesController.layoutData.layout.angle" class="posInput" ng-blur="generalPropertiesController.applyProperties($event)"></div><div class="posInputDiv"><label><span>h</span> <input name="height" ng-model="generalPropertiesController.layoutData.layout.height" class="posInput" ng-blur="generalPropertiesController.applyProperties($event)"></label></div><div class="posInputDiv"><label><span>w</span> <input name="width" ng-model="generalPropertiesController.layoutData.layout.width" class="posInput" ng-blur="generalPropertiesController.applyProperties($event)"></label></div></div></form></div>'),a.put("angular/propertypanel/propertypanelview.html",'<div ng-controller="PropertyPanelController as propertyPanelController" class="wix-dialog wix-ng-panel" ng-hide="propertyPanelController.isPropertyPanelClosed || !propertyPanelController.hasComponent"><div class="wix-dialog-titlebar wix-draggable"><strong class="wix-dialog-titlebar-title" wix-translate="propertyPanelController.compLabel" translatedynamic="true"></strong><div class="wix-dialog-titlebar-actions"><div class="wix-dialog-titlebar-actions-help"><span>&nbsp;</span></div><div class="wix-dialog-titlebar-actions-close" ng-click="propertyPanelController.closePropertyPanel()"><span>&nbsp;</span></div></div></div><div class="panelDescription" wix-translate="propertyPanelController.compDesc" translatedynamic="true"></div><div class="prettyScroll"><div name="contentPanelWrapper" class="ng-content-panel-wrapper"><div ng-include="propertyPanelController.contentPanel" class=""></div></div></div><div ng-include="propertyPanelController.footerURL"></div></div>'),a.put("angular/propertypanel/panels/clipart/clipartpanelmainview.html",'<div class="ng-content-panel"><div class="groupBox"><span>clipart Image</span><wix-button theme="gray" label="CLIP_ART_REPLACE_IMAGE"></wix-button></div><div class="groupBox"><input type="checkbox"> <span wix-translate="CLIP_ART_MAINTAIN_ASPECT_RATIO"></span></div><div class="groupBox"><div wix-translate="LINK_LINK_TO"></div><wix-input placeholder="LINK_ADD_LABEL"></wix-input></div><div class="groupBox"><wix-button theme="gray" arrow="true" label="Add Animation Button"></wix-button></div></div>'),a.put("angular/propertypanel/panels/legacy/legacypanelview.html","<legacy-panel></legacy-panel>"),a.put("angular/propertypanel/panels/testpanel/testpanelview.html",'<div class="ng-content-panel" ng-controller="TestPanelController as testPanelController"><h3 style="color: red; margin-bottom: 6px">TestPanelView</h3><div class="groupBox"><wix-input label="PAGE_SECURITY_PASSWORD_LABEL" wix-data="testPanelController.btnLabel" placeholder="\'Set the button\\\'s label\'" validator="htmlCharactersValidator" tooltip="Image_Settings_Title_ttid"></wix-input><wix-button class="wix-button-gray" label="{{ testPanelController.btnLabel }}" command="WEditorCommands.ShowFlyingMussa"></wix-button></div><div class="groupBox"><wix-button class="wix-button-blue" label="\'Open Test Dialog\'" click-handler="testPanelController.openTestDialog()"></wix-button></div><div class="groupBox"><wix-switch-button wix-data="testPanelController.switchState"></wix-switch-button><span>Switch value: {{ testPanelController.switchState }}</span></div><div class="groupBox"><wix-slider wix-data="testPanelController.firstSlider" min="0" max="10" step="1" label="\'Slider label\'" theme-dir="http://localhost/skins/images/wysiwyg/core/themes/editor_web/"></wix-slider><wix-slider wix-data="testPanelController.secondSlider" min="-5" max="5" step="0.25" label="\'Slider label\'" theme-dir="http://localhost/skins/images/wysiwyg/core/themes/editor_web/"></wix-slider></div></div>'),a.put("angular/propertypanel/panels/thumbnailsgallerypanel/thumbnailsgallerypanel.html",'<div ng-controller="WThumbnailGalleryController as thumbnailGalleryController" class="ng-content-panel"><div class="groupBox"><wix-organize-images-button gallery-config-id="MatrixGallery"></wix-organize-images-button></div><div class="groupBox"><wix-change-gallery-button></wix-change-gallery-button></div><div class="groupBox"><wix-select label="PHOTO_IMAGE_SCALING" wix-data="propertyPanelController.compData.properties.cropAndFitStage" options="thumbnailGalleryController.imageScalingOptions"></wix-select></div><div class="groupBox"><wix-select label="GALLERY_TRANSITION" wix-data="propertyPanelController.compData.properties.transition" options="thumbnailGalleryController.transitionOptions"></wix-select></div><div class="groupBox"><wix-select label="GALLERY_THUMBS_POSITION" wix-data="propertyPanelController.compData.properties.thumbnailsGravity" options="thumbnailGalleryController.thumbsPositionOptions"></wix-select><wix-radio-image-button-group label="GALLERY_THUMBNAILS_PROPORTIONS" wix-data="propertyPanelController.compData.properties.componentScale" buttons-data="thumbnailGalleryController.thumbnailsProportionsButtonData" button-width="46px" button-height="52px"></wix-radio-image-button-group><wix-slider wix-data="propertyPanelController.compData.properties.margin" label="GALLERY_THUMBNAILS_MARGIN" min="0" max="100" step="1"></wix-slider></div><div class="groupBox"><wix-checkbox label="SLIDESHOW_GALLERY_AUTOPLAY" wix-data="propertyPanelController.compData.properties.autoplay"></wix-checkbox><wix-slider wix-data="propertyPanelController.compData.properties.autoplayInterval" label="SLIDESHOW_GALLERY_INTERVAL" min="{{propertyPanelController.compPropertiesSchema.autoplayInterval.minimum || 0}}" max="{{propertyPanelController.compPropertiesSchema.autoplayInterval.maximum || 30}}" step="0.05"></wix-slider><wix-checkbox label="GALLERY_SHOW_NAV" wix-data="propertyPanelController.compData.properties.arrowMode"></wix-checkbox></div><div class="groupBox"><wix-select label="GALLERY_WHEN_CLICKING_ON_IMAGE" wix-data="propertyPanelController.compData.properties.galleryImageOnClickAction" options="thumbnailGalleryController.onImageClickedOptions"></wix-select></div><div class="groupBox"><wix-select label="GALLERY_FONT" wix-data="propertyPanelController.compData.properties.font" options="thumbnailGalleryController.fontOptions"></wix-select><wix-select label="GALLERY_TEXT_MODE" wix-data="propertyPanelController.compData.properties.textMode" options="thumbnailGalleryController.textModeOptions"></wix-select><wix-radio-image-button-group label="MENU_BUTTON_TEXT_ALIGNMENT" wix-data="propertyPanelController.compData.properties.alignText" buttons-data="thumbnailGalleryController.alignmentButtonsData" button-width="35px" button-height="33px"></wix-radio-image-button-group></div></div>'),a.put("angular/propertypanel/panels/wphoto/wphotopanelview.html",'<div ng-controller="WPhotoPanelController as photoController" class="ng-content-panel"><div class="groupBox"><wix-image-picker label="IMAGE_REPLACE" gallery-type="photos" height="65px" width="65px" wix-data="propertyPanelController.compData.data"></wix-image-picker></div><div class="groupBox"><wix-select label="PHOTO_IMAGE_SCALING" tooltip="Image_Settings_Image_Scaling_ttid" wix-data="propertyPanelController.compData.properties.displayMode" options="photoController.imageScalingOptions"></wix-select></div><div class="groupBox"><wix-button icon-src="http://static.parastorage.com/services/skins/2.913.2/images/wysiwyg/core/themes/editor_web/button/edit-image-icon.png" icon-width="28px" icon-height="28px" class="wix-button-gray wix-button-arrow" label="PHOTO_EDIT_IMAGE" command="WEditorCommands.OpenAviaryDialog"></wix-button></div><div class="groupBox"><wix-input label="PHOTO_TITLE" tooltip="Image_Settings_Title_ttid" wix-data="propertyPanelController.compData.data.title" validator="htmlCharactersValidator"></wix-input><wix-input label="PHOTO_ALT_TEXT" tooltip="Image_Settings_Alt_Text_ttid" wix-data="propertyPanelController.compData.data.alt" validator="htmlCharactersValidator"></wix-input></div><div class="groupBox"><wix-select label="PHOTO_IMAGE_BEHAVIOR" wix-data="propertyPanelController.compData.properties.onClickBehavior" options="photoController.onClickBehaviorOptions"></wix-select></div><div class="groupBox" ng-show="propertyPanelController.compData.properties.onClickBehavior === \'goToLink\'"><wix-link label="LINK_LINK_TO" placeholder="http://www.wix.com" wix-data="propertyPanelController.compData.data.link"></wix-link></div><div class="groupBox"><wix-change-style></wix-change-style></div><div class="groupBox"><wix-add-animation></wix-add-animation></div></div>'),a.put("angular/propertypanel/panels/wrichtext/wrichtextview.html",'<div class="ng-content-panel"><div class="groupBox"><wix-edit-text></wix-edit-text></div><div class="groupBox"><wix-add-animation></wix-add-animation></div></div>'),a.put("angular/wixelements/wixswitchbutton/wixswitchbuttontemplate.html",'<span class="wix-switch-button" ng-click="toggleState()" ng-class="getClass()"></span>'),a.put("angular/wixelements/wixaddanimation/wixaddanimationtemplate.html",'<wix-button class="wix-button-gray wix-button-arrow" label="{{ btnLabel }}" click-handler="openAnimationDialog()"></wix-button>'),a.put("angular/wixelements/wixbutton/wixbuttontemplate.html",'<div class="wix-button" ng-click="handleClick(command)"><div class="wix-button-icon" ng-style="{width: iconWidth,\n                    height: iconHeight,\n                    \'margin-top\': \'calc(-{{iconHeight}}/2)\',\n                    background: \'url({{iconSrc}}) 50% 50% no-repeat\'}"></div><div wix-translate="label" class="wix-button-label"></div><div class="wix-button-arrow"></div></div>'),a.put("angular/wixelements/wixchangegallerybutton/wixchangegallerybuttontemplate.html",'<wix-button label="CHANGE_GALLERY_TYPE" class="wix-button-gray wix-change-gallery-button" icon-src="{{tpaResources}}/resources/thumb_gallery.png" icon-width="40px" icon-height="28px" click-handler="openChangeGalleryDialog()"></wix-button>'),a.put("angular/wixelements/wixchangestyle/wixchangestyletemplate.html",'<wix-button class="wix-button-blue wix-button-arrow" label="CHOOSE_STYLE_TITLE" click-handler="openChangeStyleDialog()"></wix-button>'),a.put("angular/wixelements/wixcheckbox/wixcheckboxtemplate.html",'<div class="clearfix"><input type="checkbox" ng-model="wixData" class="wix-checkbox-input"><label ng-show="label" class="wix-checkbox-label" wix-translate="label" ng-click="_onLabelClick()"></label><span ng-show="tooltip" wix-tooltip="tooltip" class="wix-tooltip-icon">&nbsp;</span></div>'),a.put("angular/wixelements/wixedittext/wixedittexttemplate.html",'<wix-button class="wix-button-gray" label="EDIT_RICH_TEXT" click-handler="startEditRichText()"></wix-button>'),a.put("angular/wixelements/wiximage/wiximagetemplate.html",'<div ng-style="styleImage()" ng-src="{{ imageSource }}"></div>'),a.put("angular/wixelements/wiximagepicker/wiximagepickertemplate.html",'<div class="wix-image-picker"><div class="wix-image-picker-image"><wix-image wix-data="wixData.uri" img-height="{{height}}" img-width="{{width}}" img-style="{&quot;background-size&quot;: &quot;cover&quot;, &quot;background-position&quot;: &quot;50% 50%&quot;, &quot;cursor&quot;: &quot;pointer&quot;}" ng-click="handleClick()"></wix-image></div><div ng-click="removeImage()" wix-translate="\'IMAGE_REMOVE\'" class="wix-image-picker=remove" ng-show="{{removeEnabled}}"></div><div class="wix-image-picker-button"><wix-button class="wix-button-blue" label="{{label}}" click-handler="handleClick()"></wix-button></div></div>'),a.put("angular/wixelements/wixinput/wixinputtemplate.html",'<div class="clearfix"><label ng-show="label" class="wix-input-label" wix-translate="label"></label><span ng-show="tooltip" wix-tooltip="tooltip" class="wix-tooltip-icon">&nbsp;</span><form name="wixInputForm"><input wix-validate="validator" ng-model="wixData" wix-translate="placeholder" translatetarget="placeholder" maxlength="100" class="wix-input-text"></form><div class="wix-input-message" ng-show="wixInputForm.$invalid">{{errorMessage}}</div></div>'),a.put("angular/wixelements/wixlink/wixlinktemplate.html",'<wix-input label="LINK_LINK_TO" placeholder="{{ placeholder || \'LINK_ADD_LABEL\' }}" wix-data="linkLabel" tooltip="{{ tooltip }}"></wix-input>'),a.put("angular/wixelements/wixorganizeimagesbutton/wixorganizeimagesbuttontemplate.html",'<wix-button class="wix-button-blue wix-button-arrow" label="GALLERY_ORGANIZE_PHOTOS" click-handler="organizeImages()"></wix-button>'),a.put("angular/wixelements/wixradioimagebutton/wixradioimagetemplate.html",'<div name="img" ng-click="model=value" class="wix-radio-button" ng-style="styleButton()" ng-mouseenter="hover = true" ng-mouseleave="hover = false"></div>'),a.put("angular/wixelements/wixradioimagebuttongroup/wixradioimagebuttongrouptemplate.html",'<div class="wix-radio-group"><label class="wix-radio-image-button-group-label" ng-show="label" wix-translate="label"></label><span ng-repeat="buttonData in buttonsData"><wix-radio-image-button model="modelWrapper.data" value="{{buttonData.value}}" img-css-data="buttonData.imageCss" width="{{buttonWidth}}" height="{{buttonHeight}}"></wix-radio-image-button></span></div>'),a.put("angular/wixelements/wixselect/wixselecttemplate.html",'<div class="clearfix"><label class="wix-select-label" ng-show="label" wix-translate="label"></label><span classng-show="tooltip" wix-tooltip="tooltip" class="wix-tooltip-icon">&nbsp;</span><select class="wix-select-input" ng-model="wixData" ng-options="option.value as translate(option.label) for option in options"></select></div>'),a.put("angular/wixelements/wixslider/wixslidertemplate.html",'<div ng-class="{\'wix-slider-disabled\' : disabled}"><label wix-translate="label" ng-class="{\'wix-slider-label\' : label}"></label><div class="clearfix wix-slider-sliderArea"><div class="wix-slider-container" ng-style="{background : \'url({{themeDir}}button/slider_sprite.png) repeat-x 0 -26px\'}" ng-class="{\'wix-slider-container-units\' : units}"><div class="wix-slider-leftCorner" ng-style="{background : \'url({{themeDir}}button/slider_sprite.png) no-repeat 100% -52px\'}"></div><div class="wix-slider-rightCorner" ng-style="{background :  \'url({{themeDir}}button/slider_sprite.png) no-repeat 0 -78px\'}"></div><div class="wix-slider-sliderKnob"></div></div><wix-ticker-input wix-data="wixData" label="{{inputLabel}}" min="{{min}}" max="{{max}}" step="{{step}}" disabled input-width="{{inputWidth}}" class="wix-slider-input-container" ng-show="!hideInput"></wix-ticker-input></div></div>'),a.put("angular/wixelements/wixtickerinput/wixtickerinputtemplate.html",'<label ng-class="{\'wix-ticker-input-label\' : label, \'wix-ticker-input-label-disabled\' : disabled}">{{label}}</label><input class="wix-ticker-input-input" step="{{step}}" type="number" min="{{min}}" max="{{max}}" ng-disabled="disabled" ng-style="{width : inputWidth}"> <span class="wix-slider-input-units" ng-show="units">{{units}}</span>')
}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("utils");a.factory("inputValidators",["editorResources",function(a){var b={_generalCharactersValidator:function(b,c){var d=new RegExp("["+c+"]"),e=b.match(d);return null!==e?a.translate("INPUT_INVALID_CHARACTERS")+" ("+e.join()+")":void 0},htmlCharactersValidator:function(a){return a=a||"",this._generalCharactersValidator(a,"><")},alphanumericAndPeriodValidator:function(b){var c=new RegExp("[^a-zA-Z0-9.]"),d=b.match(c);return null!==d?a.translate("INPUT_INVALID_CHARACTERS")+" ("+d.join()+")":void 0}};return b}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("utils");a.factory("mathUtils",function(){var a=function(a,b,c){var d=b-a,e=c-a,f=e/d*100;return f},b=function(a,b,c){var d=b-a,e=d*c/100,f=e+a;return f},c=function(a,b,c,d,e){a=Number(a);var f=e?Math.round(a):a;return isNaN(f)?0:(f%b&&(f=Math.round(f/b)*b),f>d?f=d:c>f&&(f=c),f!=Math.round(f)&&(f=f.toFixed(2)),f)};return{percentFromValue:a,valueFromPercent:b,normalizeNumberToStepAndRange:c}})}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("utilsDirectives").directive("wixTooltip",["editorCommands",function(a){return{restrict:"A",scope:{ttid:"=wixTooltip"},link:function(b,c){b.showTooltip=function(b,c){a.executeCommand("Tooltip.ShowTip",{id:b},c)},b.hideTooltip=function(){a.executeCommand("Tooltip.CloseTip")},c.on("mouseenter",function(a){b.showTooltip(b.ttid,a.target)}),c.on("mouseleave",b.hideTooltip)}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("utilsDirectives");a.directive("wixValidate",["inputValidators",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){if(!e)throw"use of wix validate requires ng-model attribute";var f=b.$eval(d.wixValidate);if(f){if(!a[f])throw"validator "+f+" is not defined in validators service";var g=e.$viewValue||"",h=a[f].bind(a);e.$parsers.push(function(a){var c=h(a);return c?(e.$setValidity(f,!1),b.errorMessage=c,g):(g=a,e.$setValidity(f,!0),a)})}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("utilsDirectives");a.directive("wixTranslate",["editorResources",function(a){function b(a){return/^['|"].*['|"]$/.test(a)}function c(a){return a.slice(1,a.length-1)}return{restrict:"A",link:function(d,e,f){function g(){var g=d.$eval(f.wixTranslate);if(g){var h;h=b(g)?c(g):a.translate(g,"EDITOR_LANGUAGE");var i=f.translatetarget&&f.translatetarget.toLowerCase();switch(i){case"placeholder":e.attr("placeholder",h);break;case"text":e.text(h);break;default:var j=e[0].childNodes[0];j?j.nodeValue=h:(j=document.createTextNode(h),e[0].appendChild(j))}}}g(),f.translatedynamic&&"true"===f.translatedynamic.toLowerCase()&&d.$watch(function(){return d.$eval(f.wixTranslate)},function(a,b){a!==b&&g()})}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixHelpButton",["editorCommands",function(a){return{restrict:"E",template:'<div class="wix-help-button" ng-click="sendCommand()"><span></span></div>',link:function(b,c,d){var e=d.helpId;b.sendCommand=function(){a.executeCommand("WEditorCommands.ShowHelpDialog",e)}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixSwitchButton",["editorResources",function(a){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixswitchbutton/WixSwitchButtonTemplate.html"),scope:{checked:"=wixData",onToggle:"&"},link:function(a){a.toggleState=function(){a.checked=!a.checked,a.onToggle({state:a.checked})},a.getClass=function(){return a.checked?"enabled":"disabled"}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixAddAnimation",["editorResources","editorComponent","editorCommands",function(a,b,c){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixaddanimation/WixAddAnimationTemplate.html"),scope:!0,link:function(a){function d(){var c=!!b.getEditedComponent().getBehaviors();a.btnLabel=c?e.editAnimation:e.addAnimation}var e={editAnimation:"FPP_EDIT_ANIMATION_LABEL",addAnimation:"FPP_ADD_ANIMATION_LABEL"};c.listenToCommand("WEditorCommands.AnimationUpdated",a,function(){d(),a.$digest()}),a.openAnimationDialog=function(){c.executeCommand("WEditorCommands.ShowAnimationDialog")},d()}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixButton",["editorResources","editorCommands",function(a,b){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixButton/wixButtonTemplate.html"),scope:{label:"@",command:"@",iconSrc:"@",iconHeight:"@",iconWidth:"@",clickHandler:"&"},link:function(a){a.handleClick=function(c){c?b.executeCommand(c):a.clickHandler&&"function"==typeof a.clickHandler&&a.clickHandler()}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixChangeGalleryButton",["editorResources","galleryService",function(a,b){var c=a.topology.tpa;return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixchangegallerybutton/WixChangeGalleryButtonTemplate.html"),link:function(a){a.tpaResources=c,a.openChangeGalleryDialog=function(){b.openChangeGalleryDialog()}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixChangeStyle",["editorResources","editorComponent","editorUtils","editorCommands",function(a,b,c,d){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixchangestyle/WixChangeStyleTemplate.html"),scope:{},link:function(a,e){a.openChangeStyleDialog=function(){var a=b.getEditedComponent(),f=c.getPositionRelativeToWindow(e[0]);d.executeCommand("WEditorCommands.ChooseComponentStyle",{editedComponent:a,left:f.x})}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixCheckbox",["editorResources",function(a){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixcheckbox/wixCheckboxTemplate.html"),scope:{label:"@",tooltip:"@",validator:"@",wixData:"="},link:function(a){a._onLabelClick=function(){a.wixData=!a.wixData}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixEditText",["editorResources","editorCommands",function(a,b){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixedittext/WixEditTextTemplate.html"),scope:!0,link:function(a){a.startEditRichText=function(){b.executeCommand("EditorUI.StartEditRichText")}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixImage",["editorResources","ImageUtils",function(a,b){var c=a.getAngularPartialPath("/wixelements/wixImage/wixImageTemplate.html"),d=!a.getMediaStaticUrl();return{restrict:"E",templateUrl:c,scope:{imgHeight:"@",imgWidth:"@",imgStyle:"@",wixData:"="},link:function(c){!c.evaluatedImgStyle&&c.imgStyle&&(c.evaluatedImgStyle=JSON.parse(c.imgStyle)),c.styleImage=function(){var e=c.evaluatedImgStyle||{},f=c.wixData,g="";if(d)g=a.getMediaStaticUrl()+f;else{var h={x:parseInt(c.imgWidth),y:parseInt(c.imgHeight)},i=b.getUrlForPyramid(h,f);g=i.url}return e["background-image"]="url("+g+")",e.height=c.imgHeight,e.width=c.imgWidth,e}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixImagePicker",["editorResources","editorCommands","$log",function(a,b){var c=a.getAngularPartialPath("/wixelements/wixImagePicker/wixImagePickerTemplate.html");return{restrict:"E",templateUrl:c,scope:{label:"@",removeEnabled:"@",galleryType:"@",height:"@",width:"@",onImagePick:"&",wixData:"="},link:function(a,c){a.handleClick=function(){if(a.onImagePick&&"function"==typeof a.onImagePick){var c=a.galleryType||"photos",d={openCommand:"panel",componentName:"WPhoto",galleryConfigID:c,selectionType:"single",publicMediaFile:c,i18nPrefix:"single_image",mediaType:"picture",hasPrivateMedia:null,callback:function(b){a.wixData=b,a.$apply(),a.onImagePick&&a.onImagePick({rawData:b})},startingTab:"my"};b.executeCommand("WEditorCommands.OpenMediaFrame",d)}}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixInput",["editorResources",function(a){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixInput/wixInputTemplate.html"),scope:{label:"@",placeholder:"@",tooltip:"@",validator:"@",wixData:"="}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixLink",["editorResources","$timeout","linkRendererService","editorCommands","editorComponent","editorUtils",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixlink/WixLinkTemplate.html"),scope:{placeholder:"@",label:"@",tooltip:"@",wixData:"="},link:function(a,g){function h(){var a=g.find("input");angular.element(a).on("click",i).attr("readonly","readonly")}function i(a){a.preventDefault();var b=f.getPositionRelativeToWindow(a.target),c={data:e.getDataItem(),closeCallback:j,top:b.y,left:b.x};d.executeCommand("WEditorCommands.OpenLinkDialogCommand",c)}function j(){console.log("onLinkDialogClosed():",arguments)}function k(b){a.linkLabel=b?c.renderLinkForPropertyPanel(b):""}var l;l=a.$watch("wixData",k),a.$on("$destroy",l),b(h,0)}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixOrganizeImagesButton",["editorResources","galleryService",function(a,b){var c="/wixelements/wixorganizeimagesbutton/WixOrganizeImagesButtonTemplate.html";return{restrict:"E",scope:{galleryConfigId:"@"},templateUrl:a.getAngularPartialPath(c),link:function(a){a.organizeImages=function(){b.openOrganizeImages(a.galleryConfigId)}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixRadioImageButton",["editorResources",function(a){var b=a.getAngularPartialPath("/wixelements/wixradioimagebutton/WixRadioImageTemplate.html");return{restrict:"E",scope:{model:"=",value:"@",imgCssData:"="},templateUrl:b,link:function(a,b,c){var d=b.find("div");c.width&&d.css("width",c.width),c.height&&d.css("height",c.height),a.$watch("model",function(){a.isChecked=a.model===a.value}),a.styleButton=function(){var b="";return b=a.isChecked?a.imgCssData.checked:a.hover&&a.imgCssData.onHover?a.imgCssData.onHover:a.imgCssData.unchecked,{background:b}}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixRadioImageButtonGroup",["editorResources",function(a){var b=a.getAngularPartialPath("/wixelements/wixradioimagebuttongroup/WixRadioImageButtonGroupTemplate.html");return{restrict:"E",scope:{label:"@",wixData:"=",buttonsData:"=",buttonWidth:"@",buttonHeight:"@"},templateUrl:b,link:function(a){a.modelWrapper={data:a.wixData},a.$watch("modelWrapper.data",function(b){a.wixData=b})}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";angular.module("wixElements").directive("wixSelect",["editorResources",function(a){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixselect/WixSelectTemplate.html"),scope:{label:"@",tooltip:"@",wixData:"=",options:"="},link:function(b){b.translate=function(b){return a.translate(b,null,b)}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixSlider",["editorResources","mathUtils","configManager","$document",function(a,b,c,d){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixslider/WixSliderTemplate.html"),priority:1,scope:{label:"@",hideInput:"@",noFloats:"@",leftIcon:"@",rightIcon:"@",units:"@",disabled:"@",inputLabel:"@",wixData:"="},compile:function(){return{pre:function(a,d,e){a.themeDir=c.webThemeDir,a.max=+e.max||100,a.min=+e.min||0,a.step=+e.step||1,a.inputWidth=e.leftIcon&&e.rightIcon?"4em":"5em",isNaN(parseFloat(a.wixData))?"-"!==a.wixData&&"."!==a.wixData&&(a.wixData=0):a.wixData=parseFloat(a.wixData),a.knobPosition=b.percentFromValue(a.min,a.max,a.wixData)+"%"},post:function(a,c){function e(c){var d=100*(c.pageX-m)/l,e=b.valueFromPercent(a.min,a.max,d);a.wixData=b.normalizeNumberToStepAndRange(e,a.step,a.min,a.max,a.noFloats)}function f(b){d.on(Constants.CoreEvents.MOUSE_MOVE,g),d.on(Constants.CoreEvents.MOUSE_UP,h),e(b),i(a.wixData),a.$apply()}function g(b){l=j[0].getWidth(),m=j[0].getPosition().x,e(b),i(a.wixData),a.$apply()}function h(){d.off(Constants.CoreEvents.MOUSE_MOVE,g),d.off(Constants.CoreEvents.MOUSE_UP,h)}function i(c){var d=b.percentFromValue(a.min,a.max,c)+"%";k.setStyle("left",d)}var j=angular.element(c[0].querySelector(".wix-slider-container")),k=c[0].querySelector(".wix-slider-sliderKnob"),l=j[0].getWidth(),m=j[0].getPosition().x;k.setStyle("background","url("+a.themeDir+"button/slider_sprite.png) no-repeat 50% 0"),i(b.percentFromValue(a.min,a.max,a.wixData)),a.$watch("wixData",function(a){i(a)}),j.on(Constants.CoreEvents.MOUSE_DOWN,f)}}}}}])}),W.AngularManager.executeExperiment("NGEditor",function(){"use strict";var a=angular.module("wixElements");a.directive("wixTickerInput",["editorResources","mathUtils",function(a,b){return{restrict:"E",templateUrl:a.getAngularPartialPath("/wixelements/wixtickerinput/WixTickerInputTemplate.html"),scope:{label:"@",disabled:"@",units:"@",inputWidth:"@",wixData:"="},link:function(a,c,d){function e(){var c=b.normalizeNumberToStepAndRange(h.value,a.step,a.min,a.max);a.wixData=c,h.value=c,a.$apply()}function f(a){switch(a.keyCode){case 40:case 38:case 13:e(a)}}function g(){var a=angular.element(h);a.on(Constants.CoreEvents.KEY_UP,f),a.on(Constants.CoreEvents.MOUSE_UP,e),a.on(Constants.CoreEvents.BLUR,e)}var h=c[0].querySelector(".wix-ticker-input-input");a.max=+d.max||100,a.min=+d.min||0,a.step=+d.step||1,h.value=a.wixData,g(),a.$watch("wixData",function(a){h.value=a})}}}])});